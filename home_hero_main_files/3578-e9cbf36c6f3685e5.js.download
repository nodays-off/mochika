"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3578],{17685:(e,t,n)=>{n.d(t,{Hl:()=>c,Gz:()=>m,kd:()=>E,YD:()=>A});var a=n(67933),i=n(16258),o=n(27338),r=n(60095),l=n(78435),s=n(47672),u=n(34991),d=n(32417);let p=new Set([d.iC.FREE,d.iC.TOP_UP]),_=async e=>{let t=await l.U.getTokenCount({requestOptions:{params:{org_id:e}}}),n=t.data.tokens.filter(e=>{let{plan_id:t}=e;return p.has(t)}).reduce((e,t)=>e+t.balance,0);return{...t.data,nonSubscriptionTotal:n}},c=e=>{let{orgId:t}=e;return[u.D.TOKEN_COUNT,t]},E=()=>{let{user:e}=(0,r.u)(),{selectedOrganizationId:t,isError:n,isLoading:i}=(0,s.v)(),l=(0,a.I)({queryKey:c({orgId:t}),staleTime:o.I5,queryFn:()=>_(t),enabled:!!e&&!!t});return{...l,isLoading:l.isLoading||i,isError:l.isError||n}},m=()=>(0,a.I)({queryKey:[u.D.TOKEN_CONSUMPTION_CONFIG],staleTime:o.K2,queryFn:()=>l.U.getTokenConsumptionConfig()}),A=()=>(0,i.n)({mutationFn:e=>l.U.uploadFiles(e),mutationKey:[u._.UPLOAD_FILES]})},21275:(e,t,n)=>{function a(e){let{input:t,maxValue:n}=e;if(n<=0)throw Error("maxIndex must be greater than 0");let a=0;for(let e=0;e<t.length;e++)a=(a<<5)-a+t.charCodeAt(e)|0;return Math.abs(a)%n}n.d(t,{I:()=>a,m:()=>i});let i=async e=>{if(!e)return"";let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-1",t))).map(e=>e.toString(16).padStart(2,"0")).join("")}},22470:(e,t,n)=>{n.d(t,{i:()=>l});var a=n(25826),i=n(44455),o=n(49074),r=n(29003);let l=a.Ay$.union([o.aB,r.dY,i.em])},29003:(e,t,n)=>{n.d(t,{IQ:()=>A,dY:()=>m,l5:()=>g});var a=n(25826),i=n(55437),o=n(32162),r=n(31625),l=n(12995),s=n(65762),u=n(59051),d=n(49074);let p=d.pR.omit({metadata:!0}),_=a.Ay$.object({placeholderUuid:a.Ay$.string().optional(),createdFromSettings:p,promptWithoutManipulation:a.Ay$.string().optional(),nodeId:a.Ay$.string().optional()}),c=a.Ay$.object({style_id:a.Ay$.string(),clientVersion:a.Ay$.string().optional().default("0"),metadata:r.p}),E=a.Ay$.object({generation:o.aB,inputs:o.aB,thumbnail:o.aB.optional(),variation:o.aB.optional()}).nullable().optional(),m=a.Ay$.enum([i.j.UPSCALE_IMAGE_ASYNC,i.j.UPSCALE_IMAGE]);a.Ay$.literal(s.A.IMAGE_UPSCALE);let A=e=>(e=>{let t=(e=>{var t;let n=(0,d.$A)(e.createdFromSettings);return{...e,createdFromSettings:n,promptWithoutManipulation:null!=(t=e.promptWithoutManipulation)?t:n.prompt,nodeId:e.nodeId}})((0,u.b)(_,JSON.parse(e.metadata),{placeholderUuid:void 0,nodeId:void 0,createdFromSettings:{style_id:"-1",clientVersion:"-1",prompt:"Unknown",enhanced_prompt:"Unknown",aspect_ratio:"1:1",is_enhance:"0",enhancer_id:void 0,count:"1"}}));return{styleId:e.style_id,clientVersion:Number(e.clientVersion),metadata:t}})((0,u.b)(c,e)),g=e=>(e=>{var t;if(!e)return{generation:"",inputs:[],thumbnail:"",variation:[]};let n=(0,l._)(e.generation);return{generation:n,inputs:e.inputs,thumbnail:(0,l._)(e.thumbnail)||n,variation:null!=(t=e.variation)?t:[]}})((0,u.b)(E,e))},31625:(e,t,n)=>{n.d(t,{p:()=>a});let a=n(25826).Ay$.string().default("{}")},32417:(e,t,n)=>{n.d(t,{h1:()=>u,iC:()=>i,rq:()=>l,ss:()=>s,w1:()=>_,zM:()=>E});var a=n(79536);let i={FREE:0,SUBSCRIPTION:1,TOP_UP:2},o=a.KC([a.eu(i.FREE),a.eu(i.SUBSCRIPTION),a.eu(i.TOP_UP)]),r=a.Ik({balance:a.ai(),plan_id:o}),l=a.Ik({total:a.ai(),tokens:a.YO(r)}),s=a.Ik({tokens:a.ai()}),u=a.g1(a.Yj(),a.Yj()),d=a.Ik({code:a.Yj(),expected:a.Yj(),message:a.Yj(),path:a.YO(a.Yj()),received:a.Yj()});a.Ik({errors:a.YO(d)});let p=a.Ik({credits:a.ai(),feature:a.Yj(),start_time:a.Yj(),style_id:a.ai()}),_=a.Ik({usage:a.YO(p)}),c=a.Ik({credits:a.ai(),feature:a.Yj(),id:a.ai(),created_at:a.p6(),source_id:a.ai().nullable(),style_id:a.ai()}),E=a.Ik({credit_history:a.YO(c)})},34991:(e,t,n)=>{n.d(t,{D:()=>a,_:()=>i});let a={TOKEN_COUNT:"token-count",TOKEN_CONSUMPTION_CONFIG:"token-consumption-config"},i={UPLOAD_FILES:"upload-files"}},37328:(e,t,n)=>{n.d(t,{FE:()=>d,HZ:()=>c,K6:()=>m,U9:()=>I,gP:()=>A,rQ:()=>g});var a=n(25826),i=n(55437),o=n(32162),r=n(31625),l=n(12995),s=n(65762),u=n(59051);let d={TEXT_TO_VIDEO:"text_to_video",IMAGE_TO_VIDEO:"image_to_video",VIDEO_TO_AUDIO:"video_to_audio",FRAMES_TO_VIDEO:"frames_to_video"},p=a.Ay$.enum(d),_=a.Ay$.object({placeholderUuid:a.Ay$.string().optional(),promptWithoutManipulation:a.Ay$.string().optional(),effectListId:a.Ay$.string().optional(),nodeId:a.Ay$.string().optional()}),c=a.Ay$.object({style_id:a.Ay$.string(),prompt:a.Ay$.string().optional().default(""),enhanced_prompt:a.Ay$.string().optional(),aspect_ratio:a.Ay$.string().optional(),clientVersion:a.Ay$.string().optional().default("0"),is_enhance:a.Ay$.enum(["0","1"]).default("0"),enhancer_id:a.Ay$.string().optional(),effect_id:a.Ay$.string().optional(),duration:a.Ay$.string().optional(),resolution:a.Ay$.string().optional(),variation:p.optional().default(d.TEXT_TO_VIDEO),metadata:r.p});a.Ay$.literal(s.A.VIDEO_GENERATION);let E=a.Ay$.object({generation:o.aB,thumbnail:o.aB.optional(),inputs:o.aB,variation:o.aB.optional()}).nullable().optional(),m=a.Ay$.enum([i.j.GENERATE_VIDEO_ASYNC]),A=e=>{var t,n,a;let[i=1,o=1]=(null!=(t=e.aspect_ratio)?t:"1:1").split(":").map(Number);return{styleId:e.style_id,prompt:e.prompt,enhancedPrompt:null!=(n=e.enhanced_prompt)?n:e.prompt,aspectRatio:null!=(a=e.aspect_ratio)?a:"1:1",aspectWidth:i,aspectHeight:o,isLandscape:i>o,clientVersion:Number(e.clientVersion),isEnhance:"1"===e.is_enhance,enhancerId:e.enhancer_id,effectId:e.effect_id?Number(e.effect_id):void 0,duration:void 0!==e.duration?Number(e.duration):e.duration,resolution:e.resolution,variation:e.variation}},g=e=>(e=>{var t;let n=(0,u.b)(_,JSON.parse(e.metadata)),a=A(e);return{...a,prompt:null!=(t=n.promptWithoutManipulation)?t:a.prompt,metadata:n}})((0,u.b)(c,e,{clientVersion:"-1",metadata:"{}",prompt:"Unknown",style_id:"-1",variation:d.TEXT_TO_VIDEO,aspect_ratio:"1:1",is_enhance:"0",enhancer_id:void 0})),I=e=>(e=>{var t;return e?{generation:(0,l._)(e.generation),thumbnail:(0,l._)(e.thumbnail),inputs:e.inputs,variation:null!=(t=e.variation)?t:[]}:{generation:"",thumbnail:"",inputs:[],variation:[]}})((0,u.b)(E,e,{generation:[],inputs:[],thumbnail:[],variation:[]}))},44455:(e,t,n)=>{n.d(t,{Mb:()=>A,O:()=>g,em:()=>m});var a=n(25826),i=n(55437),o=n(32162),r=n(31625),l=n(12995),s=n(65762),u=n(59051),d=n(49074);let p=d.pR.omit({metadata:!0}),_=a.Ay$.object({placeholderUuid:a.Ay$.string().optional(),createdFromSettings:p,promptWithoutManipulation:a.Ay$.string().optional(),nodeId:a.Ay$.string().optional()}),c=a.Ay$.object({clientVersion:a.Ay$.string().optional().default("0"),metadata:r.p}),E=a.Ay$.object({generation:o.aB,inputs:o.aB,thumbnail:o.aB.optional(),variation:o.aB.optional()}).nullable().optional(),m=a.Ay$.enum([i.j.REMOVE_IMAGE_BACKGROUND,i.j.REMOVE_IMAGE_BACKGROUND_ASYNC]);a.Ay$.literal(s.A.IMAGE_REMOVE_BG);let A=e=>(e=>{let t=(e=>{var t;let n=(0,d.$A)(e.createdFromSettings);return{...e,createdFromSettings:n,promptWithoutManipulation:null!=(t=e.promptWithoutManipulation)?t:n.prompt,nodeId:e.nodeId}})((0,u.b)(_,JSON.parse(e.metadata),{placeholderUuid:void 0,createdFromSettings:{style_id:"-1",clientVersion:"-1",prompt:"Unknown",enhanced_prompt:"Unknown",aspect_ratio:"1:1",is_enhance:"0",enhancer_id:void 0,count:"1"}}));return{clientVersion:Number(e.clientVersion),metadata:t}})((0,u.b)(c,e)),g=e=>(e=>{var t;if(!e)return{generation:"",inputs:[],thumbnail:"",variation:[]};let n=(0,l._)(e.generation);return{generation:n,inputs:e.inputs,thumbnail:(0,l._)(e.thumbnail)||n,variation:null!=(t=e.variation)?t:[]}})((0,u.b)(E,e))},46586:(e,t,n)=>{n.d(t,{Y:()=>s,Z:()=>u});var a=n(67933),i=n(27338),o=n(60095),r=n(34267),l=n(29551);let s=e=>{let{isPersonal:t,orgId:n}=e;return[r.c.ORGS_BASE_TAG,r.c.ORGANIZATION_ASSETS,"".concat(t),null!=n?n:""]},u=function(){let{enabled:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isPersonal:!0,orgId:void 0},{user:n}=(0,o.u)();return(0,a.I)({queryKey:s({isPersonal:t.isPersonal,orgId:t.orgId}),staleTime:i.I5,queryFn:()=>l.o.getAllOrganizationFolderAssets(t),enabled:!!n&&(null==e||e)})}},49074:(e,t,n)=>{n.d(t,{$A:()=>A,JO:()=>g,KE:()=>d,aB:()=>m,pR:()=>c,qf:()=>I});var a=n(25826),i=n(55437),o=n(32162),r=n(31625),l=n(12995),s=n(65762),u=n(59051);let d={CREATE:"create",STYLE_REFERENCE:"styleReference",EDIT:"edit",IMAGE_PROMPT:"imagePrompt",PERSONALIZE:"personalize"};a.Ay$.enum(d);let p=a.Ay$.object({placeholderUuid:a.Ay$.string().optional(),promptWithoutManipulation:a.Ay$.string().optional(),presetId:a.Ay$.string().optional(),nodeId:a.Ay$.string().optional(),modeId:a.Ay$.number().optional()}),_=a.Ay$.record(a.Ay$.string(),a.Ay$.unknown()),c=a.Ay$.object({style_id:a.Ay$.string(),prompt:a.Ay$.string().optional().default(""),count:a.Ay$.string().optional().default("1"),enhanced_prompt:a.Ay$.string().optional(),aspect_ratio:a.Ay$.string().optional(),clientVersion:a.Ay$.string().optional().default("0"),is_enhance:a.Ay$.enum(["0","1"]).default("0"),enhancer_id:a.Ay$.string().optional(),effect:a.Ay$.string().optional(),additional_args:a.Ay$.string().optional(),plugin_name:a.Ay$.string().optional(),metadata:r.p}),E=a.Ay$.object({generation:o.aB,inputs:o.aB,thumbnail:o.aB.optional(),variation:o.aB.optional()}).nullable().optional(),m=a.Ay$.enum([i.j.GENERATE_IMAGE,i.j.GENERATE_IMAGE_ASYNC,i.j.GENERATE_TRANSPARENT_IMAGE,i.j.GENERATE_TRANSPARENT_IMAGE_ASYNC]);a.Ay$.literal(s.A.IMAGE_GENERATION);let A=e=>{var t,n,a;let[i=1,o=1]=(null!=(t=e.aspect_ratio)?t:"1:1").split(":").map(Number),r=Number(e.count);return{styleId:e.style_id,prompt:e.prompt,enhancedPrompt:null!=(n=e.enhanced_prompt)?n:e.prompt,aspectRatio:null!=(a=e.aspect_ratio)?a:"1:1",aspectWidth:i,aspectHeight:o,isLandscape:i>o,clientVersion:Number(e.clientVersion),isEnhance:"1"===e.is_enhance,effect:e.effect,enhancerId:e.enhancer_id,count:Number.isNaN(r)?1:r,pluginName:e.plugin_name}},g=e=>(e=>{var t,n;let a=(0,u.b)(p,JSON.parse(e.metadata)),i=(0,u.b)(_,JSON.parse(null!=(t=e.additional_args)?t:"{}")),o=A(e);return{...o,prompt:null!=(n=a.promptWithoutManipulation)?n:o.prompt,metadata:a,additionalArgs:i}})((0,u.b)(c,e,{clientVersion:"-1",metadata:"{}",prompt:"Unknown",style_id:"-1",count:"1",aspect_ratio:"1:1",is_enhance:"0",enhancer_id:void 0})),I=e=>(e=>{var t;if(!e)return{generation:"",inputs:[],thumbnail:"",variation:[]};let n=(0,l._)(e.generation);return{generation:(0,l._)(e.generation),inputs:e.inputs,thumbnail:(0,l._)(e.thumbnail)||n,variation:null!=(t=e.variation)?t:[]}})((0,u.b)(E,e,{generation:[],inputs:[],thumbnail:[],variation:[]}))},54388:(e,t,n)=>{n.d(t,{U:()=>d});var a=n(7620),i=n(60095),o=n(66238),r=n(74729),l=n(17685),s=n(96450),u=n(53605);let d=()=>{var e,t,n,d,p;let{page:_,source:c}=(0,r.lN)(),{user:E}=(0,i.u)(),{data:m}=(0,l.kd)(),{stripeSubscription:A,isSubscriptionActive:g}=(0,u.c)(),I=null!=(d=null==A||null==(t=A.StripePrice)||null==(e=t.StripeProduct)?void 0:e.name)?d:o.k.FREE,S=null!=(p=null==A||null==(n=A.StripePrice)?void 0:n.billingInterval)?p:o.k.FREE,y=g?o.k.PREMIUM:o.k.FREE,T=(0,s.Q)(()=>{var e,t,n;return{page:_||"None",source:c||"None",userStatus:y,userPlan:I,userPlanPeriod:S,name:null!=(e=null==E?void 0:E.name)?e:"",email:null!=(t=null==E?void 0:E.email)?t:"",id:null==E?void 0:E.id,tokenRemaining:null!=(n=null==m?void 0:m.total)?n:0}});return{computeUserAnalyticsInfo:(0,a.useCallback)(()=>T.current(),[T])}}},54582:(e,t,n)=>{n.d(t,{I:()=>i});var a=n(90916);let i=()=>{let{selectedFolder:e,...t}=(0,a.X)();return{selectedFolderId:null==e?void 0:e.uuid,...t}}},59761:(e,t,n)=>{n.d(t,{e:()=>a});let a={INFINITE:"infinite"}},61635:(e,t,n)=>{n.d(t,{S:()=>s});var a=n(67933),i=n(27338),o=n(60095),r=n(34267),l=n(29551);let s=function(){let{enabled:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{user:n}=(0,o.u)();return(0,a.I)({queryKey:[r.c.ORGS_BASE_TAG,r.c.FEATURED_ORGANIZATION_ASSETS],staleTime:i.HZ,queryFn:()=>l.o.getFeaturedOrganizationFolderAssets(t),enabled:!!n&&(null==e||e)})}},65304:(e,t,n)=>{n.d(t,{g:()=>a});let a=n(40776).A},66120:(e,t,n)=>{n.d(t,{i:()=>o});var a=n(46586),i=n(47672);let o=e=>{let{enabled:t,...n}=e,{selectedOrganizationId:o,isLoading:r,isError:l}=(0,i.v)(),s=(0,a.Z)({...n,orgId:o,enabled:!!o&&(null==t||t)});return{...s,isLoading:s.isLoading||r,isError:s.isError||l}}},66238:(e,t,n)=>{n.d(t,{k:()=>a});let a={FREE:"Free",PREMIUM:"Premium"}},74729:(e,t,n)=>{n.d(t,{lN:()=>T,os:()=>y});var a=n(54568),i=n(82806),o=n(62942),r=n(7620),l=n(60357),s=n(9820),u=n(178),d=n(60095),p=n(21275),_=n(65304),c=n(18010),E=n(22282),m=n(66238),A=n(96450),g=n(53605),I=n(99588);let S=(0,r.createContext)(null),y=e=>{var t,n,y,T,v;let{children:O}=e,[f,h]=(0,r.useState)(""),[R,b]=(0,r.useState)(""),[N,C]=(0,r.useState)(null),M=(0,o.usePathname)(),$=(0,l.DE)(),{aggregator:P}=(0,I.p)(),{user:F}=(0,d.u)(),{stripeSubscription:U,isSubscriptionActive:k}=(0,g.c)(),L=null!=(T=null==U||null==(n=U.StripePrice)||null==(t=n.StripeProduct)?void 0:t.name)?T:m.k.FREE,G=null!=(v=null==U||null==(y=U.StripePrice)?void 0:y.billingInterval)?v:m.k.FREE,j=k?m.k.PREMIUM:m.k.FREE;(0,r.useEffect)(()=>{if(!$)return;let e=(0,i.getCookie)(u.e.CUSTOM_PROFILE_ID);e||(e=(0,_.g)(),(0,i.setCookie)(u.e.CUSTOM_PROFILE_ID,e,{maxAge:31536e3,sameSite:"lax",secure:!0,httpOnly:!1})),C(e)},[$]),(0,r.useEffect)(()=>{var e;$&&h(null!=(e=sessionStorage.getItem("source"))?e:"")},[$]);let Y=(0,A.Q)(async e=>{var t,n,a;h(R),R&&sessionStorage.setItem("source",R),"/"===e&&(e="/landing-page"),b(e);let o=(null==F?void 0:F.email)?await (0,p.m)(F.email):"";P.log(c.M.pageView.withProperties({page_name:e,source:R,user_account_status:j,user_plan:L,user_plan_period:G,customer_id:null==F?void 0:F.id,customer_email:o,custom_profile_id:null!=N?N:""})),j!==m.k.FREE&&P.log(c.M.pageViewPro.withProperties({page_name:e,source:R,user_account_status:j,user_plan:L,user_plan_period:G,distinct_id:null==F?void 0:F.id,utm_term:null!=(t=(0,i.getCookie)(s.a.TERM))?t:E.Q,utm_medium:null!=(n=(0,i.getCookie)(s.a.MEDIUM))?n:E.Q,utm_source:null!=(a=(0,i.getCookie)(s.a.SOURCE))?a:E.Q}))});(0,r.useEffect)(()=>{Y.current(M)},[M,Y,N]);let w=(0,r.useMemo)(()=>({source:f,page:R,customProfileId:N}),[f,R,N]);return(0,a.jsx)(S.Provider,{value:w,children:O})},T=()=>{let e=(0,r.useContext)(S);if(null===e)throw Error("useHistoryContext must be used within a HistoryProvider");return e}},78435:(e,t,n)=>{n.d(t,{U:()=>A,N:()=>m});var a=n(89329),i=n(59051),o=n(32417),r=n(79536);let l=r.Ik({url:r.Yj(),base:r.ai().default(0),formula:r.Yj().optional(),formulas:r.E$(r.g1(r.Yj(),r.Ik({formula:r.Yj(),criteria:r.Ik({resolution:r.g1(r.Yj(),r.ai()).optional().default({}),duration:r.g1(r.Yj(),r.ai()).optional().default({})}).optional()})).optional(),r.Ik({_:r.Ik({formula:r.Yj()})})).default({_:{formula:""}}),criteria:r.Ik({style_id:r.E$(r.g1(r.Yj(),r.ai()).optional(),r.Ik({_:r.ai().optional().default(0)})).default({_:0})}).default({style_id:{_:0}}),plugins:r.g1(r.Yj(),r.Ik({base:r.ai().default(0),criteria:r.Ik({style_id:r.g1(r.Yj(),r.ai()).optional().default({})}).optional()})).optional().default({})}),s=r.g1(r.Yj(),l),u=o.w1,d=o.zM,p=o.h1;class _{async getTokenCount(){let{requestOptions:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=await this._client.get("/credit",null!=e?e:void 0),n=(0,i.b)(o.rq,t.data);return{...t,data:n}}async getTokenConsumptionConfig(){let{requestOptions:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=await this._client.get("/cost",null!=e?e:void 0),n=(0,i.b)(s,t.data);return{...t,data:n}}async getReferralTokenCount(){let{headers:e,requestOptions:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=await this._client.get("/referral/info",{...null!=t?t:{},headers:e}),a=(0,i.b)(o.ss,n.data);return{...n,data:a}}async uploadFiles(e){let{files:t,signal:n}=e,a=new FormData;t.forEach(e=>{a.append("file",e,e.name)});let o=await this._client.post("/client/upload",a,{signal:n,headers:{"Content-Type":"multipart/form-data"}}),r=(0,i.b)(p,o.data);return{...o,data:r}}async getTokenUsageConsumption(e){let{startDate:t,endDate:n,requestOptions:a}=e,o=new URLSearchParams({startTime:null!=t?t:""});n&&o.append("endTime",n);let r=await this._client.get("/credit/consumption?".concat(o.toString()),null!=a?a:void 0),l=(0,i.b)(u,r.data);return{...r,data:l}}async getTokenUsageHistory(e){let{startDate:t,endDate:n,lastPage:a,limit:o=50,requestOptions:r}=e,l=new URLSearchParams({startTime:null!=t?t:"",limit:o.toString()});n&&l.append("endTime",n),(null==a?void 0:a.id)&&(l.append("fromId",a.id.toString()),l.append("from",a.created_at.toString()));let s=await this._client.get("/credit/history?".concat(l.toString()),null!=r?r:void 0),u=(0,i.b)(d,s.data);return{...s,data:u}}constructor({client:e}){this._client=e}}var c=n(48164),E=n(19533);let m=(0,c.d)(a.A.create({baseURL:E.h.NEXT_PUBLIC_ANPU_API_URL})),A=new _({client:m})},90416:(e,t,n)=>{n.d(t,{n:()=>a});let a={SEARCH_FEED:"search-feed",GET_FAVORITE_COMMUNITY_ASSETS:"get-favorite-community-assets",GET_COLLECTION_DETAILS:"get-collection-details",GET_COMMUNITY_ASSETS:"get-community-assets",GET_COMMUNITY_FEED:"get-community-feed",GET_COLLECTION_ASSETS:"get-collection-assets",GET_FEED_ASSET_DETAILS:"get-feed-asset-details",GET_SIMILAR_ASSETS:"get-similar-assets",GET_TOP_COMMUNITY_CREATORS:"get-top-community-creators",GET_COMMUNITY_CREATORS:"get-community-creators",SEARCH_CREATORS:"search-creators",IMAGE_ASSETS:"image-assets",IMAGE_USER_ASSETS:"image-user-assets",MODEL_ASSETS:"model-assets",CUSTOM_MODEL:"custom-model",PERSONALIZE_ITEMS:"personalize-items",VIDEO_ASSETS:"video-assets",VIDEO_USER_ASSETS:"video-user-assets",EDITOR_ASSETS:"editor-assets",TRANSFER_MOTION_ASSETS:"transfer-motion-assets",FLOW_USER_GENERATIONS:"flow-user-generations",FLOW_USER_ASSETS:"flow-user-assets",FLOW_PROJECTS:"flow-projects",FLOW_PAGES:"flow-pages",FLOW_PAGE_GRAPH:"flow-page-graph",FLOW_PROJECT_BY_ID:"flow-project-by-id",FLOW_TEMPLATES:"flow-templates",FLOW_TEMPLATE_BY_ID:"flow-template-by-id",GET_MY_PROFILE:"get-my-profile",GET_PROFILE_BY_USERNAME:"get-profile-by-username",GET_USER_COLLECTIONS:"get-user-collections",GET_COLLECTIONS_FOR_ASSET:"get-collections-for-asset",APP_ASSETS:"app-assets"}},90916:(e,t,n)=>{n.d(t,{E:()=>p,X:()=>_});var a=n(7620),i=n(55822),o=n(98796),r=n(19136),l=n(22360),s=n(66120),u=n(61635);let d=(0,i.v)()((0,o.Zr)(e=>({folderId:null,openFolder:t=>{let{folderId:n}=t;return e({folderId:n})}}),{name:l.C.FOLDER_ID})),p=()=>{let{openFolder:e}=d();return{openFolder:(0,a.useCallback)(t=>{var n;e({folderId:null!=(n=null==t?void 0:t.uuid)?n:null})},[e]),openFolderUsingId:(0,a.useCallback)(t=>{e({folderId:null!=t?t:null})},[e])}},_=()=>{var e,t,n;let{data:i,isLoading:o,isError:l}=(0,s.i)({isPersonal:!0}),{data:p,isLoading:_,isError:c}=(0,s.i)({isPersonal:!1}),{data:E,isLoading:m,isError:A}=(0,u.S)(),g=null==i?void 0:i.data.assets.find(e=>e.type===r.KJ.DRAFT),I=null==p?void 0:p.data.assets.find(e=>e.type===r.KJ.DRAFT),{folderId:S}=d(),y=null!=(n=null!=(t=null!=(e=null==i?void 0:i.data.assets.find(e=>e.uuid===S))?e:null==p?void 0:p.data.assets.find(e=>e.uuid===S))?t:null==E?void 0:E.data.assets.find(e=>e.uuid===S))?n:g,T=(0,a.useMemo)(()=>!!(null==E?void 0:E.data.assets.find(e=>e.uuid===S)),[E,S]);return{selectedFolder:y,isPersonal:!!(null==y?void 0:y.isPersonal),isLoading:o||_||m,isError:l||c||A,isDraftFolder:(null==y?void 0:y.type)===r.KJ.DRAFT,privateDraftFolder:g,teamDraftFolder:I,isFeaturedFolder:T}}},96450:(e,t,n)=>{n.d(t,{Q:()=>i});var a=n(7620);let i=e=>{let t=(0,a.useRef)(e);return t.current=e,t}}}]);