"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8461],{757:(e,t,l)=>{l.d(t,{O:()=>d});var s=l(54568),a=l(7620),r=l(51785),i=l(54140),n=l(33029),o=l(98720),c=l(78848);let d=(0,r.F)(e=>{let{call:t,title:l,description:r,onConfirm:d=()=>Promise.resolve(),onCancel:u=()=>Promise.resolve(),cancelButtonText:m="Cancel",confirmButtonText:x="Continue",variant:h="primary",disableConfirmButton:p=!1,disableCancelButton:f=!1,assetTitle:v,assetIcon:j}=e,[b,g]=(0,a.useState)(!1);return(0,c.jj)()?(0,s.jsx)(o.cj,{defaultOpen:!0,children:(0,s.jsxs)(o.h,{side:"bottom",onInteractOutside:()=>{t.end(!1)},className:"rounded-t-5 flex h-58 flex-col gap-6",children:[(0,s.jsxs)(o.Fm,{className:"flex flex-col items-start justify-between gap-1 self-stretch border-none p-6 pb-0",children:[(0,s.jsxs)("div",{className:"flex w-full items-center justify-between gap-2",children:[(0,s.jsx)(o.qp,{className:"text-heading-md text-content-primary font-semibold",children:l}),(0,s.jsx)(o.Ml,{size:"icon-sm",onClick:()=>t.end(!1)})]}),(0,s.jsx)(o.Qs,{className:"text-body-sm text-content-tertiary",children:r})]}),(0,s.jsxs)("div",{className:"flex flex-col items-start justify-between gap-6 self-stretch p-6 pt-0",children:[(0,s.jsxs)("div",{className:"rounded-2 border-border-primary flex h-13 w-full items-center gap-4 border-1 p-2",children:[(0,s.jsx)("div",{className:"rounded-1 border-border-primary relative size-9 overflow-hidden border",children:j}),(0,s.jsx)("span",{className:"text-label-lg text-content-primary font-medium",children:v})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2 self-stretch",children:[(0,s.jsx)(i.$,{size:"md",variant:"outline",onClick:async()=>{await u(),t.end(!1)},disabled:f,children:m}),(0,s.jsx)(i.$,{size:"md",variant:h,onClick:async()=>{g(!0),await d(),t.end(!0)},disabled:p||b,children:x})]})]})]})}):(0,s.jsx)(n.lG,{defaultOpen:!0,children:(0,s.jsxs)(n.Cf,{onInteractOutside:()=>{t.end(!1)},className:"bg-background ring-border-primary rounded-4 size-full h-58 max-w-[min(calc(100vw-24px),556px)] flex-col items-end gap-4 ring-1 drop-shadow-sm",children:[(0,s.jsxs)(n.c7,{className:"flex flex-col items-start justify-between gap-1 self-stretch border-none p-6 pb-0",children:[(0,s.jsxs)("div",{className:"flex w-full items-center justify-between gap-2",children:[(0,s.jsx)(n.L3,{className:"text-heading-md text-content-primary font-semibold",children:l}),(0,s.jsx)(n.De,{btnProps:{size:"icon-sm"}})]}),(0,s.jsx)(n.rr,{className:"text-body-sm text-content-tertiary",children:r})]}),(0,s.jsxs)(n.R4,{className:"flex flex-col items-start justify-between gap-4 self-stretch p-6 pt-0",children:[(0,s.jsxs)("div",{className:"rounded-2 border-border-primary flex h-13 w-full items-center gap-4 border-1 p-2",children:[(0,s.jsx)("div",{className:"rounded-1 border-border-primary relative size-9 overflow-hidden border",children:j}),(0,s.jsx)("span",{className:"text-label-lg text-content-primary font-medium",children:v})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2 self-stretch",children:[(0,s.jsx)(i.$,{size:"md",variant:"outline",onClick:async()=>{await u(),t.end(!1)},disabled:f,children:m}),(0,s.jsx)(i.$,{size:"md",variant:h,onClick:async()=>{g(!0),await d(),t.end(!0)},disabled:p||b,children:x})]})]})]})})})},3165:(e,t,l)=>{l.d(t,{W:()=>r});var s=l(53326),a=l(19533);let r={EDITOR:{IMAGE:{EMPTY_SCREEN:(0,s.G)("imagine-one/image-editor/images/empty-image-page.webp",a.h.NEXT_PUBLIC_ASSETS_CDN_BASE_URL)},VIDEO:{EMPTY_SCREEN:(0,s.G)("imagine-one/image-editor/images/empty-video-page.webp",a.h.NEXT_PUBLIC_ASSETS_CDN_BASE_URL)}},METADATA:{DEFAULT:(0,s.G)("imagine-dashboard/assets/images/link-assets/og.png",a.h.NEXT_PUBLIC_ASSETS_CDN_BASE_URL)},DEFAULT:"https://cdn.dribbble.com/userupload/10666001/file/original-a8398c0483a56562a27189e504d08f67.png"}},3793:(e,t,l)=>{l.d(t,{DC:()=>p,tg:()=>v,uw:()=>f});var s=l(25826),a=l(55437),r=l(32162),i=l(31625),n=l(12995),o=l(65762),c=l(59051),d=l(37328);let u=d.HZ.omit({metadata:!0}),m=s.Ay$.object({placeholderUuid:s.Ay$.string().optional(),createdFromSettings:u,promptWithoutManipulation:s.Ay$.string().optional(),sourceThumbnail:s.Ay$.string().optional()}),x=s.Ay$.object({style_id:s.Ay$.string(),clientVersion:s.Ay$.string().optional().default("0"),metadata:i.p}),h=s.Ay$.object({generation:r.aB,inputs:r.aB,thumbnail:r.aB.optional()}).nullable().optional(),p=s.Ay$.enum([a.j.ENHANCE_VIDEO_UPLOAD]);s.Ay$.literal(o.A.VIDEO_UPSCALE);let f=e=>(e=>{let t=(e=>{var t;let l=(0,d.gP)(e.createdFromSettings);return{...e,createdFromSettings:l,promptWithoutManipulation:null!=(t=e.promptWithoutManipulation)?t:l.prompt}})((0,c.b)(m,JSON.parse(e.metadata),{placeholderUuid:void 0,createdFromSettings:{style_id:"-1",clientVersion:"-1",prompt:"Unknown",enhanced_prompt:"Unknown",aspect_ratio:"1:1",is_enhance:"0",enhancer_id:void 0,variation:d.FE.TEXT_TO_VIDEO}}));return{styleId:e.style_id,clientVersion:Number(e.clientVersion),metadata:t}})((0,c.b)(x,e)),v=e=>(e=>{if(!e)return{generation:"",inputs:[],thumbnail:""};let t=(0,n._)(e.generation);return{generation:t,inputs:e.inputs,thumbnail:(0,n._)(e.thumbnail)||t}})((0,c.b)(h,e))},5244:(e,t,l)=>{l.d(t,{M:()=>a,Z:()=>s});let s={EDITOR_LAYOUT:"(editor-layout)",WITH_FOLDERS_SIDEBAR:"(with-folders-sidebar)",FLOW_DASHBOARD:"(flow-dashboard)"},a=new Set([s.FLOW_DASHBOARD,s.WITH_FOLDERS_SIDEBAR])},11021:(e,t,l)=>{l.d(t,{Z:()=>a,n:()=>s});let s=e=>"featured-folder-was-created-".concat(e),a=e=>"has-seen-featured-folder-".concat(e)},12638:(e,t,l)=>{l.d(t,{w:()=>n});var s=l(7620),a=l(18010),r=l(54388),i=l(99588);let n=()=>{let{aggregator:e}=(0,i.p)(),{computeUserAnalyticsInfo:t}=(0,r.U)();return{fireViewProfileEvent:(0,s.useCallback)(()=>{let{page:l,userStatus:s,userPlan:r,userPlanPeriod:i,id:n,email:o}=t();e.log(a.M.viewProfile.withProperties({page_name:l,user_account_status:s,user_plan:r,user_plan_period:i,distinct_id:n,email:o,user_profile:"personal"}))},[e,t])}}},15897:(e,t,l)=>{l.d(t,{T:()=>s});let s=(0,l(55822).v)(e=>({editFolder:null,setEditFolder:t=>e({editFolder:t})}))},22630:(e,t,l)=>{l.d(t,{B:()=>s});let s={TOP_NAV:"Top Nav",ANIMATE_IMAGE:"Image - Animate"}},25989:(e,t,l)=>{l.d(t,{f:()=>y});var s=l(54568),a=l(57721),r=l(61773),i=l(51874),n=l(46626),o=l(54140),c=l(82314),d=l(11386),u=l(757),m=l(90916),x=l(54582),h=l(16258),p=l(55436),f=l(29551),v=l(46586),j=l(90543),b=l(66727),g=l(49896),N=l(5040),E=l(15897);let A=e=>{let{folder:t,onActionClick:l}=e,{mutateAsync:a}=(0,h.n)({mutationKey:[p.b.DELETE_ORGANIZATION_ASSET],mutationFn:async e=>f.o.deleteOrganizationAsset(e)}),{serviceErrorHandler:o}=(0,j.z)(),{openFolder:d}=(0,m.E)(),{data:b}=(0,v.Z)(),{selectedFolderId:g}=(0,x.I)(),E=async()=>{var e;await u.O.call({title:"Delete folder",description:"Are you sure you want to delete this folder?",variant:"error",confirmButtonText:"Confirm",onConfirm:async()=>{try{if(await a({id:t.uuid}),t.uuid===g){var e;d(null!=(e=null==b?void 0:b.data.assets[0])?e:null)}i.oR.success("Folder deleted successfully")}catch(e){o(e)}},assetTitle:t.title,assetIcon:(null==(e=t.url)?void 0:e.generation)?(0,s.jsx)(r.default,{src:"".concat(t.url.generation,"?v=").concat(t.updatedAt),className:"rounded-0.5 size-full object-cover object-center",alt:t.title,width:22,height:22}):(0,s.jsx)("div",{className:"bg-fill-primary border-border-primary border-inset rounded-0.5 flex size-full items-center justify-center border-0 object-cover object-center group-data-[selected=true]:border-1",children:(0,s.jsx)(n.MTl,{className:"text-content-primary-disabled size-6"})})})};return(0,s.jsxs)(c._2,{size:"sm",className:"text-content-critical",onClick:e=>{(0,N.Z)(e),null==l||l(),E()},children:[(0,s.jsx)(n.ucK,{className:"stroke-[1.4]"})," Delete"]})},_=e=>{let{folder:t,onActionClick:l,isPinned:a}=e,{mutateAsync:r,isPending:o}=(0,h.n)({mutationKey:[p.b.TOGGLE_PIN_ASSET],mutationFn:async e=>f.o.togglePinAsset(e)}),{serviceErrorHandler:d}=(0,j.z)(),u=async()=>{try{await r({id:t.uuid}),a?i.oR.success("Folder unpinned successfully"):i.oR.success("Folder pinned successfully")}catch(e){d(e)}};return(0,s.jsx)(c._2,{size:"sm",onClick:e=>{(0,N.Z)(e),null==l||l(),u()},asChild:!0,children:(0,s.jsx)("button",{disabled:o,className:"w-full",children:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.JsG,{className:"stroke-[1.4]"})," ",(0,s.jsx)("span",{children:"Unpin"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.tsw,{className:"stroke-[1.4]"})," ",(0,s.jsx)("span",{children:"Pin"})]})})})},y=e=>{let{folder:t,dropdownMenuContentProps:l,onActionClick:r,onOpenChange:i,isPinned:u,btnClassName:m}=e,{setEditFolder:x}=(0,E.T)(),{openDialog:h}=(0,g.s)(b.D.EDIT_ORGANIZATION_FOLDER_DIALOG);return(0,s.jsxs)(c.rI,{onOpenChange:i,modal:!1,children:[(0,s.jsx)(a.l9,{asChild:!0,children:(0,s.jsx)(o.$,{variant:"ghost",size:"icon-xs",asChild:!0,className:(0,d.cn)("rounded-1.5 size-6 shrink-0 p-1",m),children:(0,s.jsx)("div",{role:"button",children:(0,s.jsx)(n.HCC,{className:"rotate-90"})})})}),(0,s.jsxs)(c.SQ,{className:"w-51",align:"start",...l,children:[(0,s.jsxs)(c._2,{size:"sm",onClick:()=>{null==r||r(),h(),x(t),null==i||i(!1)},children:[(0,s.jsx)(n.qUP,{className:"stroke-[1.4]"})," Edit"]}),(0,s.jsx)(_,{isPinned:u,folder:t,onActionClick:r}),(0,s.jsx)(c.mB,{}),(0,s.jsx)(A,{folder:t,onActionClick:r})]})]})}},31201:(e,t,l)=>{l.d(t,{x:()=>r});var s=l(89329),a=l(19533);let r=(0,l(48164).d)(s.A.create({baseURL:a.h.NEXT_PUBLIC_ANPU_API_URL}))},32562:(e,t,l)=>{l.d(t,{X:()=>a});var s=l(7620);let a=e=>{let{containerId:t,threshold:l=.75,hasNextPage:a,isFetchingNextPage:r,fetchNextPage:i}=e,n=(0,s.useRef)(r);n.current=r,(0,s.useEffect)(()=>{let e=document.getElementById(t);if(!e)return()=>{};let s=()=>{let{scrollTop:t,clientHeight:s,scrollHeight:r}=e;t+s>=r*l&&a&&!n.current&&(n.current=!0,i())};return e.addEventListener("scroll",s),()=>{e.removeEventListener("scroll",s)}},[t,l,a,i])}},33618:(e,t,l)=>{l.d(t,{D:()=>p});var s=l(7620),a=l(55437),r=l(92184),i=l(36270),n=l(59051),o=l(79536);let c=o.Ik({user_id:o.Yj(),name:o.Yj().nullable(),username:o.Yj(),email:o.Yj().nullable(),description:o.Yj().nullable(),facebook_url:o.Yj().nullable(),instagram_url:o.Yj().nullable(),linkedin_url:o.Yj().nullable(),pinterest_url:o.Yj().nullable(),twitter_url:o.Yj().nullable(),tiktok_url:o.Yj().nullable(),behance_url:o.Yj().nullable(),dribbble_url:o.Yj().nullable(),youtube_url:o.Yj().nullable(),views:o.ai(),downloads:o.ai(),bookmarks:o.ai(),profile_image_key:o.Yj().nullable(),profile_banner_key:o.Yj().nullable(),updated_at:o.Yj().optional()}),d=o.Ik({status:o.Yj(),profile:c}),u=e=>{var t;let l=null!=(t=e.profile.updated_at)?t:new Date().toISOString();return{userId:e.profile.user_id,name:e.profile.name,username:e.profile.username,email:e.profile.email,description:e.profile.description,facebookUrl:e.profile.facebook_url,instagramUrl:e.profile.instagram_url,linkedinUrl:e.profile.linkedin_url,pinterestUrl:e.profile.pinterest_url,twitterUrl:e.profile.twitter_url,tiktokUrl:e.profile.tiktok_url,behanceUrl:e.profile.behance_url,dribbbleUrl:e.profile.dribbble_url,youtubeUrl:e.profile.youtube_url,views:e.profile.views,downloads:e.profile.downloads,bookmarks:e.profile.bookmarks,profileImageKey:e.profile.profile_image_key,profileBannerKey:e.profile.profile_banner_key,updatedAt:l}};var m=l(25826);m.Ay$.object({name:m.Ay$.string().optional(),username:m.Ay$.string().nullable().optional(),description:m.Ay$.string().nullable().optional(),facebook_url:m.Ay$.string().nullable().optional(),instagram_url:m.Ay$.string().nullable().optional(),linkedin_url:m.Ay$.string().nullable().optional(),pinterest_url:m.Ay$.string().nullable().optional(),twitter_url:m.Ay$.string().nullable().optional(),tiktok_url:m.Ay$.string().nullable().optional(),behance_url:m.Ay$.string().nullable().optional(),dribbble_url:m.Ay$.string().nullable().optional(),youtube_url:m.Ay$.string().nullable().optional(),banner:m.Ay$.file().nullable().optional(),avatar:m.Ay$.file().nullable().optional()});let x=m.Ay$.object({status:m.Ay$.string()});class h{async getMyProfile(){let e=await (0,r.hZ)(async()=>await this._client.get(a.j.PROFILE)),t=u((0,n.b)(d,e.data));return{...e,data:t}}async getProfileByUsername(e){let t=await (0,r.hZ)(async()=>await this._client.get(a.j.PROFILE_BY_USERNAME.replace(":username",e))),l=u((0,n.b)(d,t.data));return{...t,data:l}}async updateUserProfile(e){let t=(0,i.j)(e),l=await (0,r.hZ)(async()=>await this._client.put(a.j.PROFILE,t)),s=(0,n.b)(x,l.data);return{...l,data:s}}constructor({client:e}){this._client=e}}let p=new h({client:l(31201).x});(0,s.cache)(async e=>await p.getProfileByUsername(e))},41927:(e,t,l)=>{l.d(t,{N:()=>r});var s=l(84735),a=l(47672);let r=function(){let{enabled:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{selectedOrganizationId:l,isLoading:r,isError:i}=(0,a.v)(),n=(0,s.Y)({...t,orgId:l,enabled:!!l&&(null==e||e)});return{...n,isLoading:n.isLoading||r,isError:n.isError||i}}},46660:(e,t,l)=>{l.d(t,{q:()=>i});var s=l(25826),a=l(37328),r=l(3793);let i=s.Ay$.union([a.K6,r.DC])},55436:(e,t,l)=>{l.d(t,{b:()=>s});let s={ACCEPT_INVITATION:"accept-invitation",CREATE_ORGANIZATION:"create-organization",CREATE_ORGANIZATION_ASSET:"create-organization-asset",DELETE_INVITATION:"delete-invitation",JOIN_ORGANIZATION:"join-organization",REMOVE_USER_FROM_ORGANIZATION:"remove-user-from-organization",SEND_INVITATION:"send-invitation",TOGGLE_PIN_ASSET:"toggle-pin-asset",UPDATE_JOIN_REQUEST_STATUS:"update-join-request-status",UPDATE_ORGANIZATION:"update-organization",UPDATE_ORGANIZATION_ASSET:"update-organization-asset",DELETE_ORGANIZATION_ASSET:"delete-organization-asset",MOVE_ORGANIZATION_ASSETS:"move-organization-assets"}},59533:(e,t,l)=>{l.d(t,{z:()=>i});var s=l(16258),a=l(81789),r=l(33618);let i=()=>(0,s.n)({mutationKey:[a.S.UPDATE_USER_PROFILE],mutationFn:e=>r.D.updateUserProfile(e)})},67287:(e,t,l)=>{l.d(t,{M:()=>m});var s=l(55437),a=l(22470),r=l(59051),i=l(12331),n=l(44455),o=l(65762),c=l(19136),d=l(49074),u=l(29003);let m=e=>{let t=(0,r.b)(a.i,e.endpoint);switch(t){case s.j.GENERATE_IMAGE:case s.j.GENERATE_IMAGE_ASYNC:case s.j.GENERATE_TRANSPARENT_IMAGE:case s.j.GENERATE_TRANSPARENT_IMAGE_ASYNC:return(e=>{let t=(0,d.JO)(e.settings),l=(0,d.qf)(e.url);return{...e,settings:t,url:l,tag:o.A.IMAGE_GENERATION,service:i.z1.IMAGE,refService:void 0,type:c.KJ.OBJECT}})({...e,endpoint:t});case s.j.UPSCALE_IMAGE_ASYNC:case s.j.UPSCALE_IMAGE:return(e=>{let t=(0,u.IQ)(e.settings),l=(0,u.l5)(e.url);return{...e,settings:t,url:l,tag:o.A.IMAGE_UPSCALE,service:i.z1.IMAGE,refService:void 0,type:c.KJ.OBJECT}})({...e,endpoint:t});case s.j.REMOVE_IMAGE_BACKGROUND:case s.j.REMOVE_IMAGE_BACKGROUND_ASYNC:return(e=>{let t=(0,n.Mb)(e.settings),l=(0,n.O)(e.url);return{...e,settings:t,url:l,tag:o.A.IMAGE_REMOVE_BG,service:i.z1.IMAGE,refService:void 0,type:c.KJ.OBJECT}})({...e,endpoint:t})}}},71170:(e,t,l)=>{l.d(t,{o:()=>u});var s=l(55437),a=l(46660),r=l(59051),i=l(12331),n=l(37328),o=l(65762),c=l(19136),d=l(3793);let u=e=>{let t=(0,r.b)(a.q,e.endpoint);switch(t){case s.j.GENERATE_VIDEO_ASYNC:return(e=>{let t=(0,n.rQ)(e.settings),l=(0,n.U9)(e.url);return{...e,settings:t,url:l,tag:o.A.VIDEO_GENERATION,service:i.z1.VIDEO,refService:void 0,type:c.KJ.OBJECT}})({...e,endpoint:t});case s.j.ENHANCE_VIDEO_UPLOAD:return(e=>{let t=(0,d.uw)(e.settings),l=(0,d.tg)(e.url);return{...e,settings:t,url:l,tag:o.A.VIDEO_UPSCALE,service:i.z1.VIDEO,refService:void 0,type:c.KJ.OBJECT}})({...e,endpoint:t})}}},71387:(e,t,l)=>{l.d(t,{E:()=>s});let s={VIDEO_GENERATION_SOURCE:"video_generation_source",ONBOARDING_USER_PERSONA_ANSWER:"onboarding_user_persona_answer",ONBOARDING_USER_INITIAL_GOAL:"onboarding_user_initial_goal",ONBOARDING_USER_CADENCE:"onboarding_user_cadence",ONBOARDING_USER_MEDIA_TYPE:"onboarding_user_media_type",ONBOARDING_USER_MEMBERS:"onboarding_user_members",TRANSFER_MOTION_CHARACTER_SOURCE:"transfer_motion_character_source",TRANSFER_MOTION_EXPRESSION_SOURCE:"transfer_motion_expression_source"}},74679:(e,t,l)=>{l.d(t,{Qi:()=>N,rH:()=>E});var s=l(67933),a=l(99757),r=l(27338),i=l(12331),n=l(60095),o=l(67287),c=l(71170),d=l(59761),u=l(90416),m=l(29551),x=l(90916),h=l(54582),p=l(47672);let f=[i.z1.IMAGE,i.z1.VIDEO],v=void 0,j=e=>({assets:e.assets.map(e=>{try{switch(e.service){case i.z1.IMAGE:return(0,o.M)(e);case i.z1.VIDEO:return(0,c.o)(e);default:return null}}catch(e){return null}}).filter(e=>null!=e)}),b=async e=>{let{services:t=f,isDraftFolder:l,isPersonal:s,...a}=e,r=a.parentId&&!l?await m.o.getAllOrganizationAssets({service:t,...a}):await m.o.getAllOrganizationObjects({service:t,isUserOwned:s,...a}),i=j(r.data);return{...r,data:i}},g=async e=>{let{parentId:t}=e,l=await m.o.getFeaturedOrganizationAssets({parentId:t}),s=j(l.data);return{...l,data:{assets:s.assets.map(e=>({...e,isFeatured:!0}))}}},N=e=>{let{services:t=f,isPersonal:l,orgId:s,parentId:a,isDraftFolder:r=!1}=e,i=[...t].sort(),n=[u.n.EDITOR_ASSETS,...i];return a&&!r&&n.push(a),null!=l&&n.push(String(l)),s&&n.push(s),n},E=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,l=arguments.length>1?arguments[1]:void 0,{user:i}=(0,n.u)(),{isLoading:o,isError:c,isPersonal:m,isDraftFolder:j,isFeaturedFolder:E,selectedFolder:A}=(0,x.X)(),{selectedOrganizationId:_}=(0,p.v)(),{selectedFolderId:y}=(0,h.I)(),I=null!=l?l:m,O=!!i&&!o&&!c&&null!=y,C=E?y:null==A||null==(e=A.settings)?void 0:e.featuredFolderId,w=(0,s.I)({queryKey:[u.n.EDITOR_ASSETS,C],queryFn:async()=>await g({parentId:C}),staleTime:r.HZ,enabled:O&&null!=C}),T=(0,a.q)({queryKey:[d.e.INFINITE,...N({services:t,parentId:y,isPersonal:I,orgId:_,isDraftFolder:j})],queryFn:async e=>{let{pageParam:l}=e;return await b({isDraftFolder:j,orgId:_,limit:50,fromId:l,batch:!0,services:t,parentId:y,isPersonal:I})},getNextPageParam:e=>{let{assets:t}=e.data;if(t.length<50)return;let l=t[t.length-1];return null==l?void 0:l.uuid},enabled:O&&!E,staleTime:r.HZ,initialPageParam:v}),k=T.data?{...T.data,pages:[...T.data.pages,...w.data?[w.data]:[]]}:{pages:w.data?[w.data]:[],pageParams:[]};return{...T,data:k,isLoading:T.isLoading||o||w.isLoading,isError:T.isError||c||w.isError}}},78461:(e,t,l)=>{l.d(t,{V:()=>e7});var s=l(54568),a=l(62942),r=l(46626),i=l(37583),n=l(5244),o=l(20844),c=l(27261),d=l.n(c),u=l(60095),m=l(54140),x=l(12638),h=l(66727),p=l(49896),f=l(78848),v=l(33029),j=l(5275),b=l(7620),g=l(61938);let N=e=>{let{children:t}=e,l=(0,g.mN)({defaultValues:{username:""},mode:"onChange"});return(0,s.jsx)(g.Op,{...l,children:t})},E=()=>{let e=(0,g.xW)();if(!e)throw Error("useCreateUsernameProvider must be used within a CreateUsernameFormProvider");return e};var A=l(70678),_=l(51874),y=l(53881),I=l(82873),O=l(10987),C=l(19533),w=l(16258),T=l(58910),k=l(59533),R=l(94967);let S=()=>{let e=(0,a.useRouter)(),t=E(),{mutate:l,status:r}=(0,w.n)({mutationFn:e=>{let{username:t}=e;return T.y.checkIfUsernameIsAvailable({username:t,productValidFor:"IMAGINE"})}}),{mutate:i,status:n}=(0,k.z)(),c=(0,R.q)(),[d,u]=(0,b.useState)(null),x=t.watch("username");return(0,b.useEffect)(()=>{if(!x||""===x.trim())return void u(null);let e=setTimeout(()=>{l({username:x},{onSuccess:e=>{e.data.isAvailable?u(!0):(t.setError("username",{message:"Username is not available"}),u(!1))}})},300);return()=>clearTimeout(e)},[x,l,t]),(0,s.jsxs)("form",{onSubmit:t.handleSubmit(l=>{if(!1===d)return void t.setError("username",{message:"Username is not available"});i({username:l.username},{onSuccess:async()=>{await c(),_.oR.success("Username created successfully"),(0,A.deleteCookie)(y.H.CACHED_SESSION,{domain:C.h.NEXT_PUBLIC_APP_DOMAIN}),await c(),e.push(o.ze.COMMUNITY_PROFILE.replace(":username",l.username))},onError:()=>{_.oR.error("Failed to create username")}})}),className:"flex flex-col gap-4 px-4 pb-4",children:[(0,s.jsx)(j.zB,{control:t.control,name:"username",render:e=>{let{field:t}=e;return(0,s.jsxs)(j.eI,{className:"flex flex-col gap-4",children:[(0,s.jsx)(j.lR,{children:"Username"}),(0,s.jsx)(j.MJ,{children:(0,s.jsx)(I.p,{...t,"aria-invalid":!1===d})}),(0,s.jsx)(j.C5,{})]})}}),!0===d&&(0,s.jsx)("p",{className:"text-label-sm text-content-success",children:"Username is available"}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)(m.$,{type:"submit",disabled:!1===d||"pending"===r,children:[("pending"===r||"pending"===n)&&(0,s.jsx)(O.y,{className:"size-4"}),"Create Username"]})})]})},z=()=>{let{isOpen:e,setDialogOpen:t}=(0,p.s)(h.D.CREATE_USERNAME_MODAL),l=E();return(0,s.jsx)(v.lG,{open:e,onOpenChange:t,children:(0,s.jsxs)(v.Cf,{className:"max-w-[556px]",children:[(0,s.jsxs)(v.c7,{children:[(0,s.jsx)(v.L3,{children:"Create Username"}),(0,s.jsx)(v.De,{})]}),(0,s.jsx)(j.lV,{...l,children:(0,s.jsx)(S,{})})]})})};var D=l(98720);let P=()=>{let{isOpen:e,setDialogOpen:t}=(0,p.s)(h.D.CREATE_USERNAME_MODAL),l=E();return(0,s.jsx)(D.cj,{open:e,onOpenChange:t,children:(0,s.jsxs)(D.h,{className:"w-full",side:"bottom",children:[(0,s.jsxs)(D.Fm,{children:[(0,s.jsx)(D.qp,{children:"Create Username"}),(0,s.jsx)(D.Ml,{})]}),(0,s.jsx)(j.lV,{...l,children:(0,s.jsx)(S,{})})]})})},M=()=>(0,f.HE)()?(0,s.jsx)(z,{}):(0,s.jsx)(P,{}),F=()=>{let{openDialog:e}=(0,p.s)(h.D.CREATE_USERNAME_MODAL),{user:t}=(0,u.u)(),l=(0,a.usePathname)(),{fireViewProfileEvent:i}=(0,x.w)();return t&&l.includes(o.ze.COMMUNITY)?t&&!t.username?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.$,{variant:"secondary",size:"icon-sm",className:"laptop:hidden",onClick:()=>{i(),e()},children:"View Profile"}),(0,s.jsx)(m.$,{variant:"secondary",size:"sm",className:"laptop:flex hidden",onClick:()=>{i(),e()},children:"View Profile"}),(0,s.jsx)(N,{children:(0,s.jsx)(M,{})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.$,{variant:"secondary",size:"icon-sm",className:"laptop:hidden",asChild:!0,onClick:()=>{i()},children:(0,s.jsx)(d(),{href:o.ze.COMMUNITY_PROFILE.replace(":username",(null==t?void 0:t.username)||""),children:(0,s.jsx)(r.kGu,{})})}),(0,s.jsx)(m.$,{onClick:()=>{i()},variant:"secondary",size:"sm",className:"laptop:flex hidden",children:(0,s.jsx)(d(),{href:o.ze.COMMUNITY_PROFILE.replace(":username",(null==t?void 0:t.username)||""),children:"View Profile"})})]}):null};var G=l(5483),U=l(615),L=l(11386);let V=e=>{let{className:t,children:l,viewport:a=(0,s.jsx)(B,{}),...r}=e;return(0,s.jsxs)(G.bL,{delayDuration:100,"data-slot":"navigation-menu","data-viewport":!!a,className:(0,L.cn)("group/navigation-menu relative flex max-w-max flex-1 items-center justify-center",t),...r,children:[l,a]})};(0,U.F)("group inline-flex h-9 w-max items-center justify-center bg-fill-primary px-4 py-2 disabled:pointer-events-none disabled:opacity-50 data-[state=open]:bg-fill-primary-active outline-none transition-[color,box-shadow] focus-visible:ring-[3px]");let B=e=>{let{className:t,wrapperClassName:l,...a}=e;return(0,s.jsx)("div",{className:(0,L.cn)("absolute top-full left-0 isolate z-50 flex justify-center",l),children:(0,s.jsx)(G.LM,{"data-slot":"navigation-menu-viewport",className:(0,L.cn)("bg-background-alternate text-content-tertiary data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 tablet:w-[var(--radix-navigation-menu-viewport-width)] relative mt-0 h-[var(--radix-navigation-menu-viewport-height)] w-full origin-[top_center] overflow-hidden rounded-md border",t),...a})})};var $=l(1640);let Z=()=>(0,s.jsx)("div",{className:"pointer-events-none absolute inset-0 -z-10",children:(0,s.jsx)("div",{className:"bg-neutral-white/1 absolute blur-[80px] backdrop-blur-sm"})});var Y=l(12331),H=l(71387),K=l(22630);let q=[{title:"Image",icon:(0,s.jsx)(r.fU$,{}),href:o.ze.IMAGE,showLoadingAssetCounter:!0,assetService:Y.z1.IMAGE,items:[{title:"Create Image",description:"Fast-paced, dynamic",backgroundColor:"#354CFF",href:o.ze.IMAGE,icon:(0,s.jsx)(r.fU$,{})},{title:"Remix Image",description:"Fast-paced, dynamic",backgroundColor:"#A46CFF",href:o.ze.IMAGE,icon:(0,s.jsx)(r.fU$,{})}]},{title:"Video",icon:(0,s.jsx)(r.ZEK,{}),href:o.ze.VIDEO,onClick:()=>{sessionStorage.setItem(H.E.VIDEO_GENERATION_SOURCE,K.B.TOP_NAV)},showLoadingAssetCounter:!0,assetService:Y.z1.VIDEO,items:[{title:"Create Video",description:"Fast-paced, dynamic",backgroundColor:"#FF8E6C",href:o.ze.VIDEO,icon:(0,s.jsx)(r.ZEK,{})},{title:"Effect",description:"Fast-paced, dynamic",backgroundColor:"#FEDA3A",href:o.ze.VIDEO,icon:(0,s.jsx)(r.ZEK,{})}]},{title:"Workflows",icon:(0,s.jsx)(r.eYX,{}),href:o.ze.FLOW,items:[]}];var J=l(79649),W=l(53513),X=l(81491),Q=l(7834),ee=l.n(Q),et=l(32162),el=l(74679);let es=e=>{let{assetService:t}=e,{data:l}=(0,el.rH)(),a=(0,b.useMemo)(()=>null==l?void 0:l.pages.flatMap(e=>{let{data:{assets:l}}=e;return l.filter(e=>e.service===t&&(e.status===et.wQ.PENDING||e.status===et.wQ.PROCESSING))}),[l,t]);if(void 0==a||(null==a?void 0:a.length)===0)return null;let r=Object.keys(ee()(a,"batchId")).length;return(0,s.jsx)("div",{className:(0,L.cn)("bg-fill-brand absolute -top-0.5 -right-0.5 z-10 flex items-center justify-center rounded-full px-0.5 transition-all ease-in-out group-hover/nav-icon:scale-110",{"size-4":r<=9,"size-4.5":r>9}),children:(0,s.jsx)("span",{className:(0,L.cn)("text-content-fixed-inverse font-bold",{"text-[12px]":r<=9,"text-[10px]":r>9}),children:r>9?"9+":r})})},ea=e=>{let{icon:t,href:l,label:r,comingSoon:n,onClick:c,showLoadingAssetCounter:d,assetService:u,relatedPaths:x}=e,h=(0,a.usePathname)(),p=!1;return l===o.ze.HOME?p=h===o.ze.HOME:(p=h.startsWith(l))||!x||(p=x.some(e=>h.startsWith(e))),(0,s.jsxs)(W.m_,{children:[(0,s.jsx)(W.k$,{asChild:!0,children:(0,s.jsxs)("div",{className:"group/nav-icon relative size-10",children:[d&&u&&(0,s.jsx)(es,{assetService:u}),(0,s.jsx)(m.$,{size:"none",variant:"none","data-active":p,className:"group/nav-icon absolute inset-0 rounded-full p-2.5 transition-all ease-in-out hover:-inset-1 hover:p-3.5 hover:drop-shadow-sm active:p-2.5 active:ring-1 active:drop-shadow-sm",asChild:!0,onClick:c,children:n?(0,s.jsxs)("div",{"aria-label":r,className:"cursor-default!",children:[(0,s.jsx)("div",{className:"from-fill-primary to-fill-primary-active ring-border-primary absolute inset-0 -z-1 rounded-full bg-gradient-to-b opacity-0 transition-all ease-in-out ring-inset group-hover/nav-icon:opacity-100 group-active/nav-icon:opacity-100 group-data-[active=true]/nav-icon:opacity-100 group-data-[active=true]/nav-icon:ring-1"}),(0,s.jsx)(J.DX,{className:"text-content-secondary h-4.5 w-4.5 transition-all ease-in-out group-hover/nav-icon:h-5.5 group-hover/nav-icon:w-5.5 group-active/nav-icon:h-4.5 group-active/nav-icon:w-4.5",children:t})]}):(0,s.jsxs)(i.i,{onClick:e=>{n&&e.preventDefault();let t=document.getElementById(X.G.MAIN_SCROLL_LAYOUT);t&&t.scrollTo({top:0,behavior:"smooth"})},href:l,"aria-label":r,scroll:!1,prefetch:!0,children:[(0,s.jsx)("div",{className:"from-fill-primary to-fill-primary-active ring-border-primary absolute inset-0 -z-1 rounded-full bg-gradient-to-b opacity-0 transition-all ease-in-out ring-inset group-hover/nav-icon:opacity-100 group-active/nav-icon:opacity-100 group-data-[active=true]/nav-icon:opacity-100 group-data-[active=true]/nav-icon:ring-1"}),(0,s.jsx)(J.DX,{className:"text-content-secondary h-4.5 w-4.5 transition-all ease-in-out group-hover/nav-icon:h-5.5 group-hover/nav-icon:w-5.5 group-active/nav-icon:h-4.5 group-active/nav-icon:w-4.5",children:t})]})})]})}),(0,s.jsxs)(W.ZI,{className:"text-center",sideOffset:12,children:[r,(0,s.jsx)("br",{}),n&&"Coming Soon"]})]})},er=()=>(0,s.jsx)(ea,{icon:(0,s.jsx)(r.fCU,{}),href:o.ze.COMMUNITY,label:"Community",relatedPaths:[o.ze.COMMUNITY_PROFILE.replace(":username","")]}),ei=()=>(0,s.jsx)(V,{className:"isolate h-12",viewport:(0,s.jsx)(B,{className:"rounded-4 border-border-primary bg-background/80 relative backdrop-blur-md",wrapperClassName:"top-0",children:(0,s.jsx)(Z,{})}),children:(0,s.jsxs)("div",{className:"bg-background/80 rounded-4 flex items-center justify-center gap-4 p-1 backdrop-blur-[24px]",children:[(0,s.jsx)(ea,{icon:(0,s.jsx)(r.fSv,{}),href:o.ze.HOME,label:"Home"}),(0,s.jsx)($.w,{orientation:"vertical",className:"min-h-4.5 w-0.5 rounded-full"}),(0,s.jsx)("div",{className:"flex items-center gap-6",children:q.map((e,t)=>{let{icon:l,href:a,title:r,onClick:i,showLoadingAssetCounter:n,assetService:o}=e;return(0,s.jsx)("div",{className:"tablet:block hidden",children:(0,s.jsx)(ea,{icon:l,href:a,label:r,onClick:i,showLoadingAssetCounter:n,assetService:o})},t)})}),(0,s.jsx)(ea,{icon:(0,s.jsx)(r.DeQ,{}),href:o.ze.APPS,label:"Apps"}),(0,s.jsx)($.w,{orientation:"vertical",className:"min-h-4.5 w-0.5 rounded-full"}),(0,s.jsx)(er,{})]})});var en=l(3418),eo=l(19136),ec=l(5502),ed=l(89536),eu=l(75036),em=l(75889),ex=l(37958),eh=l(3165),ep=l(3397),ef=l(90916),ev=l(54582),ej=l(66120),eb=l(41927),eg=l(61635),eN=l(25989),eE=l(85931),eA=l(11021);let e_=e=>{let{backgroundColor:t,href:l,title:a,description:r,icon:n,onClick:o}=e;return(0,s.jsxs)(i.i,{href:l,className:"tablet:gap-2 tablet:p-1 hover:bg-fill-primary-variant rounded-3 flex items-center gap-3 p-1.5 transition-all duration-300 hover:drop-shadow-lg",prefetch:!0,onClick:o,children:[(0,s.jsxs)("div",{className:"rounded-2 tablet:size-11 text-content-fixed-inverse relative isolate flex aspect-square size-13 shrink-0 items-center justify-center overflow-hidden",style:{backgroundColor:t},children:[(0,s.jsx)("div",{className:"from-neutral-black/90 to-neutral-black/0 absolute -top-3.5 -left-3 -z-1 h-10 w-19 bg-gradient-to-b blur-lg"}),n]}),(0,s.jsxs)("div",{className:"tablet:gap-0 flex flex-col gap-1",children:[(0,s.jsx)("p",{className:"text-content-primary text-label-md tablet:text-label-xs font-medium",children:a}),(0,s.jsx)("p",{className:"text-content-tertiary text-label-sm tablet:text-label-xs",children:r})]})]})};var ey=l(61773);let eI={Root:e=>{let{children:t,isActive:l=!1,...a}=e;return(0,s.jsx)("button",{className:"hover:bg-fill-primary-variant-hover data-[state=active]:bg-fill-primary-variant-hover group/see-more-popover-item rounded-2.5 flex cursor-pointer items-center gap-2 p-2.5 text-left transition-colors","data-state":l?"active":"inactive",...a,children:t})},ImageIcon:e=>{let{src:t,alt:l}=e;return(0,s.jsx)("div",{className:"rounded-2 border-border-primary relative size-4.5 shrink-0 overflow-hidden border",children:(0,s.jsx)(ey.default,{fill:!0,src:t,alt:l,className:"size-full object-cover object-center"})})},Content:e=>{let{title:t}=e;return(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsx)("span",{className:"text-content-primary text-label-lg",children:t})})},Start:e=>{let{children:t}=e;return(0,s.jsx)("div",{className:"text-content-primary size-4.5 shrink-0 *:[*]:shrink-0 *:[svg]:size-4.5",children:t})}},eO=()=>(0,s.jsxs)(D.Fm,{className:"flex w-full flex-col items-start gap-4",children:[(0,s.jsxs)("div",{className:"flex w-full items-center justify-between px-2.5 py-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(i.i,{prefetch:!0,href:o.ze.HOME,children:(0,s.jsx)(r.u9d,{className:"size-6.5"})}),(0,s.jsx)(D.CG,{asChild:!0,"data-state":"closed",children:(0,s.jsx)(m.$,{variant:"ghost",size:"icon-xs",children:(0,s.jsx)(r.ZB$,{})})})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(m.$,{variant:"ghost",size:"icon-xs",asChild:!0,children:(0,s.jsx)(i.i,{href:o.ze.HOME,children:(0,s.jsx)(r.fSv,{})})})})]}),(0,s.jsx)(D.qp,{className:"sr-only",children:"Mobile Navigation"}),(0,s.jsx)(D.Qs,{className:"sr-only",children:"Navigate to your favorite apps"})]}),eC=()=>{var e,t,l,a,i,n;let{closeDialog:o}=(0,p.s)(h.D.MOBILE_NAVBAR),{openDialog:c}=(0,p.s)(h.D.MOBILE_FOLDER_SELECTOR),{selectedFolder:d,isError:u,isLoading:x,isPersonal:f}=(0,ef.X)();return u?(0,s.jsx)("div",{className:(0,L.cn)("group data-[state=open]:ring-border-inverse bg-fill-primary-variant hover:bg-fill-primary-variant-hover flex w-full items-center justify-between overflow-hidden text-left ring-1 transition-colors outline-none ring-inset focus:outline-none disabled:cursor-not-allowed","ring-border-primary hover:ring-border-primary-hover hover:bg-fill-primary-hover data-[state=open]:ring-border-primary-hover data-[state=open]:bg-fill-primary-hover rounded-2 tablet:py-[5px] tablet:pr-2 tablet:pl-[5px] text-content-critical cursor-pointer gap-1 py-2 pr-[11px] pl-2"),children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(r.mo0,{className:"size-4"}),"Error occurred"]})}):x?(0,s.jsx)(eu.E,{className:"rounded-2 h-10 w-full"}):(0,s.jsx)(m.$,{variant:"ghost",asChild:!0,children:(0,s.jsxs)("button",{className:(0,L.cn)("group data-[state=open]:ring-border-inverse bg-fill-primary-variant hover:bg-fill-primary-variant-hover flex w-full items-center justify-between overflow-hidden text-left ring-1 transition-colors outline-none ring-inset focus:outline-none disabled:cursor-not-allowed","ring-border-primary text-content-primary hover:ring-border-primary-hover hover:bg-fill-primary-hover data-[state=open]:ring-border-primary-hover data-[state=open]:bg-fill-primary-hover rounded-2 tablet:py-[5px] tablet:pr-2 tablet:pl-[5px] cursor-pointer gap-1 py-2 pr-[11px] pl-2"),onClick:()=>{null==o||o(),c()},children:[(0,s.jsxs)("div",{className:"flex w-full items-center gap-1 overflow-hidden",children:[(null==d||null==(e=d.url)?void 0:e.thumbnail)?(0,s.jsxs)(ec.eu,{className:"rounded-1 size-4.5",children:[(0,s.jsx)(ec.BK,{src:(null==d||null==(t=d.url)?void 0:t.thumbnail)?"".concat(null==d||null==(l=d.url)?void 0:l.thumbnail,"?v=").concat(null==d?void 0:d.updatedAt):void 0,className:"rounded-1"}),(0,s.jsx)(ec.Uz,{className:"text-body-xs rounded-1",itemToHashForPalette:null!=(a=null==d?void 0:d.uuid)?a:"",children:(0,ex.D)(null!=(i=null==d?void 0:d.title)?i:"")})]}):f?(0,s.jsx)(r.Bxq,{className:"size-4.5"}):(0,s.jsx)(r.P3V,{className:"size-4.5"}),(0,s.jsxs)("span",{className:"text-label-lg text-content-tertiary truncate font-medium",children:[f?"Private":"Teamspace"," -"," ",null!=(n=null==d?void 0:d.title)?n:"All Creations"]})]}),(0,s.jsx)(r.D3D,{className:"size-4 shrink-0 stroke-[1.5]"})]})})},ew={PINNED:{value:"pinned",icon:(0,s.jsx)(r.tsw,{className:"size-4.5"})},TEAMSPACE:{value:"teamspace",icon:(0,s.jsx)(r.n_v,{className:"size-4.5"})},PRIVATE:{value:"private",icon:(0,s.jsx)(r.vRp,{className:"size-4.5"})}},eT=()=>{var e;let{handleOpenCreateFolderDialog:t}=(0,eE.w)(),{closeDialog:l}=(0,p.s)(h.D.MOBILE_FOLDER_SELECTOR),{data:a,isLoading:i,isError:n}=(0,ej.i)({isPersonal:!1}),o=null!=(e=null==a?void 0:a.data.assets)?e:[],{selectedFolder:c,isDraftFolder:d,teamDraftFolder:u,isPersonal:m}=(0,ef.X)(),{openFolder:x}=(0,ef.E)();return i?(0,s.jsx)(eu.E,{className:"rounded-2 h-10 w-full"}):n?(0,s.jsx)("div",{className:"text-content-critical text-label-md",children:"An unexpected error occurred"}):(0,s.jsxs)(em.av,{value:ew.TEAMSPACE.value,className:"flex size-full flex-col overflow-hidden",children:[(0,s.jsxs)("button",{className:(0,L.cn)((0,ed.OZ)({size:"lg",variant:"primary"}),"h-12"),onClick:()=>{t(!1),null==l||l()},children:[(0,s.jsx)("div",{className:"bg-fill-secondary flex size-8 items-center justify-center rounded-full",children:(0,s.jsx)(r.c11,{className:"size-4 stroke-[1.3]"})}),"Create new teamspace folder"]}),(0,s.jsxs)("div",{className:"flex flex-1 flex-col gap-2 overflow-y-auto",children:[(0,s.jsxs)(eI.Root,{isActive:d&&!m,onClick:()=>{x(null!=u?u:null),null==l||l()},children:[(0,s.jsx)(r.P3V,{className:"shrink-0"}),(0,s.jsx)(eI.Content,{title:"All creations"})]}),o.map(e=>{var t,a,i;return e.type===eo.KJ.DRAFT?null:(0,s.jsxs)(eI.Root,{isActive:(null==c?void 0:c.uuid)===e.uuid,onClick:()=>{x(e),null==l||l()},children:[(0,s.jsx)(eI.Start,{children:(null==(t=e.url)?void 0:t.thumbnail)?(0,s.jsx)(eI.ImageIcon,{src:null!=(i=null==(a=e.url)?void 0:a.thumbnail)?i:eh.W.DEFAULT,alt:e.title}):(0,s.jsx)(r.P3V,{className:"shrink-0"})}),(0,s.jsx)(eI.Content,{title:e.title}),(0,s.jsx)(eN.f,{folder:e,btnClassName:"size-5 ml-auto"})]},e.uuid)})]})]})},ek=e=>{var t,l;let{folder:a,disabled:i}=e,{openFolder:n}=(0,ef.E)(),{selectedFolder:o}=(0,ef.X)(),{featuredFolderTooltip:c}=(0,ep.bO)(),d=(null==o?void 0:o.uuid)===a.uuid,u=(0,A.getCookie)((0,eA.Z)(a.uuid))===en.J.TRUE;return(0,b.useEffect)(()=>{d&&!u&&(0,A.setCookie)((0,eA.Z)(a.uuid),en.J.TRUE)},[d,u,a.uuid]),(0,s.jsxs)(W.m_,{children:[(0,s.jsx)(W.k$,{asChild:!0,children:(0,s.jsxs)("button",{onClick:()=>{n(a)},className:"group/sidebar-item rounded-2.5 relative inline-flex h-10 shrink-0 cursor-pointer overflow-hidden p-px focus:outline-none disabled:pointer-events-none disabled:opacity-30","aria-label":null==(t=a.settings)?void 0:t.name,type:"button","data-state":d?"active":"inactive",disabled:i,children:[(0,s.jsx)("span",{className:(0,L.cn)("pointer-events-none absolute inset-[-1000%] animate-[spin_2s_linear_infinite] bg-[conic-gradient(from_90deg_at_50%_50%,#E6D5FF_0%,#8A3FFC_100%)]",{hidden:u||d})}),(0,s.jsx)("div",{className:"bg-background pointer-events-none z-10 flex size-full items-center rounded-[9px]",children:(0,s.jsxs)("div",{className:"group-hover/sidebar-item:bg-fill-brand-secondary text-label-md text-content-primary group-data-[state=active]/sidebar-item:bg-fill-brand-secondary inline-flex size-full cursor-pointer items-center justify-start gap-2 truncate overflow-hidden rounded-[9px] py-[9px] pl-[9px] text-left whitespace-nowrap backdrop-blur-3xl transition-colors",children:[(0,s.jsx)(r.xFz,{className:"size-6 shrink-0"}),(0,s.jsx)("span",{className:"text-content-primary text-label-lg",children:null==(l=a.settings)?void 0:l.name})]})})]})}),(0,s.jsxs)(W.ZI,{side:"right",sideOffset:6,align:"center",className:"rounded-2 border-border-elevated bg-surface-elevated flex max-w-66.5 flex-col gap-1 border p-3 drop-shadow-md",children:[(0,s.jsx)("p",{className:"text-label-md text-content-primary font-medium",children:c.title}),(0,s.jsx)("p",{className:"text-label-md text-content-tertiary",children:c.description})]})]})},eR=()=>{var e,t;let{handleOpenCreateFolderDialog:l}=(0,eE.w)(),{closeDialog:a}=(0,p.s)(h.D.MOBILE_FOLDER_SELECTOR),{data:i,isLoading:n,isError:o}=(0,ej.i)({isPersonal:!0}),c=null!=(t=null==i?void 0:i.data.assets)?t:[],{selectedFolder:d,isPersonal:u,privateDraftFolder:m,isDraftFolder:x}=(0,ef.X)(),f=(0,eg.S)(),v=(0,b.useMemo)(()=>{var e;return null==i||null==(e=i.data)?void 0:e.assets.reduce((e,t)=>{var l,s;return(null==(l=t.settings)?void 0:l.featuredFolderId)!=null&&(e[null==(s=t.settings)?void 0:s.featuredFolderId]=t),e},{})},[null==i?void 0:i.data.assets]),{openFolder:j}=(0,ef.E)();return n?(0,s.jsx)(eu.E,{className:"rounded-2 h-10 w-full"}):o?(0,s.jsx)("div",{className:"text-content-critical text-label-md",children:"An unexpected error occurred"}):(0,s.jsxs)(em.av,{value:ew.PRIVATE.value,className:"flex size-full flex-col overflow-hidden",children:[(0,s.jsxs)("button",{className:(0,L.cn)((0,ed.OZ)({size:"lg",variant:"primary"}),"h-12"),onClick:()=>{l(!0),null==a||a()},children:[(0,s.jsx)("div",{className:"bg-fill-secondary flex size-8 items-center justify-center rounded-full",children:(0,s.jsx)(r.c11,{className:"size-4 stroke-[1.3]"})}),"Create new private folder"]}),(0,s.jsxs)("div",{className:"flex flex-1 flex-col gap-2 overflow-y-auto",children:[(0,s.jsxs)(eI.Root,{isActive:x&&u,onClick:()=>{j(null!=m?m:null),null==a||a()},children:[(0,s.jsx)(r.P3V,{className:"shrink-0"}),(0,s.jsx)(eI.Content,{title:"All creations"})]}),null==(e=f.data)?void 0:e.data.assets.map(e=>(null==v?void 0:v[e.uuid])||(0,A.getCookie)((0,eA.n)(e.uuid))===en.J.TRUE?null:(0,s.jsx)(ek,{folder:e},e.uuid)),c.map(e=>{var t,l,i;return e.type===eo.KJ.DRAFT?null:(0,s.jsxs)(eI.Root,{isActive:(null==d?void 0:d.uuid)===e.uuid,onClick:()=>{j(e),null==a||a()},children:[(0,s.jsx)(eI.Start,{children:(null==(t=e.url)?void 0:t.thumbnail)?(0,s.jsx)(eI.ImageIcon,{src:null!=(i=null==(l=e.url)?void 0:l.thumbnail)?i:eh.W.DEFAULT,alt:e.title}):(0,s.jsx)(r.P3V,{className:"shrink-0"})}),(0,s.jsx)(eI.Content,{title:e.title}),(0,s.jsx)(eN.f,{folder:e,btnClassName:"size-5 ml-auto"})]},e.uuid)})]})]})},eS=()=>{var e;let{closeDialog:t}=(0,p.s)(h.D.MOBILE_FOLDER_SELECTOR),{data:l,isLoading:a,isError:i}=(0,eb.N)(),n=null!=(e=null==l?void 0:l.data.assets)?e:[],{selectedFolder:o}=(0,ef.X)(),{openFolder:c}=(0,ef.E)();return a?(0,s.jsx)(eu.E,{className:"rounded-2 h-10 w-full"}):i?(0,s.jsx)("div",{className:"text-content-critical text-label-md",children:"An unexpected error occurred"}):(0,s.jsx)(em.av,{value:ew.PINNED.value,className:"flex size-full flex-col overflow-hidden",children:(0,s.jsx)("div",{className:"flex flex-1 flex-col gap-2 overflow-y-auto",children:n.map(e=>{var l,a,i;return(0,s.jsxs)(eI.Root,{isActive:(null==o?void 0:o.uuid)===e.uuid,onClick:()=>{c(e),null==t||t()},children:[(0,s.jsx)(eI.Start,{children:(null==(l=e.url)?void 0:l.thumbnail)?(0,s.jsx)(eI.ImageIcon,{src:null!=(i=null==(a=e.url)?void 0:a.thumbnail)?i:eh.W.DEFAULT,alt:e.title}):(0,s.jsx)(r.P3V,{className:"shrink-0"})}),(0,s.jsx)(eI.Content,{title:e.title}),(0,s.jsx)(eN.f,{folder:e,btnClassName:"size-5 ml-auto",isPinned:!0})]},e.uuid)})})})},ez=()=>{let{isOpen:e,setDialogOpen:t}=(0,p.s)(h.D.MOBILE_FOLDER_SELECTOR),{data:l,isLoading:a}=(0,ej.i)({isPersonal:!0}),{selectedFolderId:i}=(0,ev.I)(),[n,o]=(0,b.useState)(ew.TEAMSPACE.value);return((0,b.useEffect)(()=>{i&&e&&setTimeout(()=>{var e;null==(e=document.getElementById("".concat(i,"-mobile-navbar")))||e.scrollIntoView({block:"center",behavior:"instant"})},100)},[i,e]),a||!l)?null:(0,s.jsx)(D.cj,{open:e,onOpenChange:t,children:(0,s.jsxs)(D.h,{className:"rounded-t-4 h-[55dvh] p-4",side:"bottom",children:[(0,s.jsx)(D.qp,{className:"sr-only",children:"Select Folder"}),(0,s.jsx)(D.Qs,{className:"sr-only",children:"Select a folder to continue"}),(0,s.jsx)(D.kN,{asChild:!0,className:"absolute top-0.5 right-0.5 z-10",children:(0,s.jsx)(m.$,{variant:"ghost",size:"icon-sm",children:(0,s.jsx)(r.w0d,{})})}),(0,s.jsxs)(em.Tabs,{value:n,onValueChange:o,className:"mt-4 flex size-full flex-col gap-3",children:[(0,s.jsxs)(em.j7,{className:"bg-surface-secondary tablet:gap-2.5 flex w-full items-center gap-0 rounded-full p-1",children:[(0,s.jsx)(em.GI,{layoutId:"folders-tab-switcher",value:ew.PINNED.value,variant:"primary",className:"flex-1 cursor-pointer",isActive:n===ew.PINNED.value,outline:!1,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[ew.PINNED.icon,(0,s.jsx)("span",{className:"mobile:block hidden",children:"Pinned"})]})}),(0,s.jsx)(em.GI,{layoutId:"folders-tab-switcher",value:ew.TEAMSPACE.value,variant:"primary",className:"flex-1 cursor-pointer",isActive:n===ew.TEAMSPACE.value,outline:!1,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[ew.TEAMSPACE.icon,(0,s.jsx)("span",{className:"mobile:block hidden",children:"Teams"})]})}),(0,s.jsx)(em.GI,{layoutId:"folders-tab-switcher",value:ew.PRIVATE.value,variant:"primary",className:"flex-1 cursor-pointer",isActive:n===ew.PRIVATE.value,outline:!1,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[ew.PRIVATE.icon,(0,s.jsx)("span",{className:"mobile:block hidden",children:"Private"})]})})]}),(0,s.jsx)(eT,{}),(0,s.jsx)(eR,{}),(0,s.jsx)(eS,{})]})]})})},eD=()=>{let{isOpen:e,setDialogOpen:t,closeDialog:l}=(0,p.s)(h.D.MOBILE_NAVBAR),{user:c}=(0,u.u)(),d=(()=>{let e=(0,a.useSelectedLayoutSegment)();return n.M.has(null!=e?e:"")})();return(0,s.jsxs)(D.cj,{open:e,onOpenChange:t,children:[(0,s.jsx)(D.CG,{asChild:!0,children:(0,s.jsx)(m.$,{variant:"ghost",size:"icon-md",children:(0,s.jsx)(r.ZB$,{})})}),(0,s.jsxs)(D.h,{side:"left",className:"border-border-primary bg-background/80 isolate flex flex-col gap-4 border-r px-4 pt-3 pb-4 backdrop-blur-md",children:[(0,s.jsx)(Z,{}),(0,s.jsx)(eO,{}),(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[d&&c&&(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)("p",{className:"text-content-primary text-label-xl font-semibold",children:"Folders"}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("span",{className:"text-content-tertiary text-label-sm font-semibold",children:"All folders"}),(0,s.jsx)(eC,{})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)("p",{className:"text-content-primary text-label-xl font-semibold",children:"Explore apps"}),(0,s.jsx)("div",{className:"flex flex-col gap-2",children:q.map(e=>(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)("h3",{className:"text-label-md text-content-primary",children:e.title}),(0,s.jsx)("div",{className:"flex flex-col gap-3",children:e.items.map((t,a)=>(0,s.jsx)(e_,{...t,onClick:()=>{var t;null==(t=e.onClick)||t.call(e),l()}},a))})]},e.title))})]})]}),(0,s.jsxs)(i.i,{href:o.ze.GET_HELP,className:"text-content-primary text-label-md mt-auto flex h-12 items-center gap-2 rounded-full px-3 transition-colors",onClick:()=>{l()},children:[(0,s.jsx)(r.JGH,{className:"size-4"}),"Help"]})]})]})};var eP=l(223),eM=l.n(eP),eF=l(37605),eG=l.n(eF),eU=l(32562),eL=l(80498),eV=l(65762);eM().extend(eG());let eB={[eV.A.IMAGE_GENERATION]:"Image",[eV.A.IMAGE_UPSCALE]:"Upscale",[eV.A.IMAGE_REMOVE_BG]:"BG Remove",[eV.A.VIDEO_GENERATION]:"Video",[eV.A.VIDEO_UPSCALE]:"Video Upscale",[eV.A.IMAGE_VARIATE]:"Variate"},e$=e=>{let{asset:t}=e;switch(t.status){case et.wQ.PENDING:case et.wQ.PROCESSING:return(0,s.jsx)("div",{className:"flex size-11 shrink-0 items-center justify-center",children:(0,s.jsx)(O.y,{className:"size-4"})});case et.wQ.FAILED:return(0,s.jsx)("div",{className:"flex size-11 shrink-0 items-center justify-center",children:(0,s.jsx)(r.msl,{className:"text-border-critical size-4"})});case et.wQ.FINISHED:return(0,s.jsxs)("div",{className:"rounded-2 border-border-primary bg-surface-primary relative isolate flex size-11 shrink-0 items-center justify-center overflow-hidden border",children:[(0,s.jsx)(ey.default,{fill:!0,alt:t.uuid,src:t.url.thumbnail,className:"object-contain object-center"}),(0,s.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",className:"absolute bottom-0.5 left-0.5",children:[(0,s.jsxs)("g",{clipPath:"url(#clip0_15995_89936)",children:[(0,s.jsx)("path",{d:"M0 7C0 3.13401 3.13401 0 7 0C10.866 0 14 3.13401 14 7C14 10.866 10.866 14 7 14C3.13401 14 0 10.866 0 7Z",fill:"white"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 13.75C10.7279 13.75 13.75 10.7279 13.75 7C13.75 3.27208 10.7279 0.25 7 0.25C3.27208 0.25 0.25 3.27208 0.25 7C0.25 10.7279 3.27208 13.75 7 13.75ZM10.3777 5.28214C10.6272 4.97025 10.5766 4.51514 10.2647 4.26562C9.95284 4.0161 9.49771 4.06667 9.24819 4.37857L5.82894 8.65263L4.46114 7.62679C4.14161 7.38713 3.6883 7.45189 3.44864 7.77143C3.209 8.09096 3.27375 8.54427 3.59328 8.78393L5.52186 10.2304C5.83436 10.4648 6.27651 10.4086 6.52053 10.1036L10.3777 5.28214Z",fill:"#24A148"})]}),(0,s.jsx)("path",{d:"M7 0.5C10.5899 0.5 13.5 3.41015 13.5 7C13.5 10.5899 10.5899 13.5 7 13.5C3.41015 13.5 0.5 10.5899 0.5 7C0.5 3.41015 3.41015 0.5 7 0.5Z",stroke:"white"}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_15995_89936",children:(0,s.jsx)("path",{d:"M0 7C0 3.13401 3.13401 0 7 0C10.866 0 14 3.13401 14 7C14 10.866 10.866 14 7 14C3.13401 14 0 10.866 0 7Z",fill:"white"})})})]})]});default:return null}},eZ=e=>{let{asset:t}=e;switch(t.tag){case eV.A.IMAGE_GENERATION:return(0,s.jsxs)("div",{className:"rounded-2 text-label-md relative isolate flex size-11 shrink-0 items-center justify-center overflow-hidden bg-[#FEDA3A]",children:[(0,s.jsx)("div",{className:"from-neutral-black/90 to-neutral-black/0 absolute -top-3.5 -left-3 -z-1 h-10 w-19 bg-gradient-to-b blur-lg"}),(0,s.jsx)(r.xfq,{className:"text-content-fixed-inverse size-5 stroke-[1.5]"})]});case eV.A.IMAGE_UPSCALE:return(0,s.jsxs)("div",{className:"rounded-2 text-label-md relative isolate flex size-11 shrink-0 items-center justify-center overflow-hidden bg-[#FF6C8E]",children:[(0,s.jsx)("div",{className:"from-neutral-black/90 to-neutral-black/0 absolute -top-3.5 -left-3 -z-1 h-10 w-19 bg-gradient-to-b blur-lg"}),(0,s.jsx)(r.G_O,{className:"text-content-fixed-inverse size-5 stroke-[1.5]"})]});case eV.A.IMAGE_REMOVE_BG:return(0,s.jsxs)("div",{className:"rounded-2 text-label-md relative isolate flex size-11 shrink-0 items-center justify-center overflow-hidden bg-[#EB6CFF]",children:[(0,s.jsx)("div",{className:"from-neutral-black/90 to-neutral-black/0 absolute -top-3.5 -left-3 -z-1 h-10 w-19 bg-gradient-to-b blur-lg"}),(0,s.jsx)(r.w$h,{className:"text-content-fixed-inverse size-5 stroke-[1.5]"})]});case eV.A.VIDEO_GENERATION:return(0,s.jsxs)("div",{className:"rounded-2 text-label-md relative isolate flex size-11 shrink-0 items-center justify-center overflow-hidden bg-[#A46CFF]",children:[(0,s.jsx)("div",{className:"from-neutral-black/90 to-neutral-black/0 absolute -top-3.5 -left-3 -z-1 h-10 w-19 bg-gradient-to-b blur-lg"}),(0,s.jsx)(r.npA,{className:"text-content-fixed-inverse size-5 stroke-[1.5]"})]});case eV.A.VIDEO_UPSCALE:return(0,s.jsxs)("div",{className:"rounded-2 text-label-md relative isolate flex size-11 shrink-0 items-center justify-center overflow-hidden bg-[#A46CFF]",children:[(0,s.jsx)("div",{className:"from-neutral-black/90 to-neutral-black/0 absolute -top-3.5 -left-3 -z-1 h-10 w-19 bg-gradient-to-b blur-lg"}),(0,s.jsx)(r.G_O,{className:"text-content-fixed-inverse size-5 stroke-[1.5]"})]});default:return(0,s.jsxs)("div",{className:"rounded-2 text-label-md relative isolate flex size-11 shrink-0 items-center justify-center overflow-hidden bg-[#96a927]",children:[(0,s.jsx)("div",{className:"from-neutral-black/90 to-neutral-black/0 absolute -top-3.5 -left-3 -z-1 h-10 w-19 bg-gradient-to-b blur-lg"}),"-"]})}},eY=e=>{let{asset:t}=e;return(0,s.jsxs)("div",{className:"flex w-full shrink-0 items-center justify-between gap-6 p-1",children:[(0,s.jsxs)("div",{className:"flex w-full items-center gap-2 overflow-hidden",children:[(0,s.jsx)(eZ,{asset:t}),(0,s.jsxs)("div",{className:"flex w-full flex-col overflow-hidden",children:[(0,s.jsxs)("span",{className:"text-content-tertiary text-label-xs",children:[eM()(t.createdAt).fromNow()," - ",eB[t.tag]||"Unknown"]}),(0,s.jsx)("span",{className:(0,L.cn)("text-content-primary text-label-xs truncate",{"text-content-critical":t.status===et.wQ.FAILED}),children:(()=>{if(t.status===et.wQ.FAILED)return"Failed";switch(t.tag){case eV.A.IMAGE_GENERATION:return t.settings.prompt;case eV.A.IMAGE_REMOVE_BG:return"Image background removed successfully";case eV.A.IMAGE_UPSCALE:return"Image upscaled successfully";case eV.A.VIDEO_GENERATION:return t.settings.prompt;case eV.A.VIDEO_UPSCALE:return t.settings.metadata.createdFromSettings.prompt;default:return""}})()||"-"})]})]}),(0,s.jsx)(e$,{asset:t})]})},eH=()=>{var e,t;let l=(0,el.rH)(void 0,!0);(0,eU.X)({containerId:X.G.NOTIFICATION_CONTENT,fetchNextPage:l.fetchNextPage,hasNextPage:!!l.hasNextPage,isFetchingNextPage:l.isFetchingNextPage,threshold:.7});let a=null!=(t=null==(e=l.data)?void 0:e.pages.flatMap(e=>{let{data:{assets:t}}=e;return t}))?t:[];return 0===a.length?(0,s.jsx)("div",{className:"text-content-secondary text-label-md flex size-full items-center justify-center pb-11 text-center",children:"No notifications"}):(0,s.jsxs)("div",{className:"flex flex-1 flex-col gap-3 overflow-y-auto p-4 pt-0",id:X.G.NOTIFICATION_CONTENT,children:[a.map(e=>(0,s.jsx)(eY,{asset:e},e.uuid)),l.isFetchingNextPage&&(0,s.jsx)("div",{children:(0,s.jsx)(O.y,{className:"size-4"})})]})},eK=()=>{let e=(0,el.rH)(void 0,!0);return e.isLoading?(0,s.jsxs)("div",{className:"flex flex-1 flex-col gap-3 overflow-y-auto p-4 pt-0",children:[(0,s.jsx)(eu.E,{className:"h-13 w-full shrink-0"}),(0,s.jsx)(eu.E,{className:"h-13 w-full shrink-0"}),(0,s.jsx)(eu.E,{className:"h-13 w-full shrink-0"}),(0,s.jsx)(eu.E,{className:"h-13 w-full shrink-0"}),(0,s.jsx)(eu.E,{className:"h-13 w-full shrink-0"}),(0,s.jsx)(eu.E,{className:"h-13 w-full shrink-0"}),(0,s.jsx)(eu.E,{className:"h-13 w-full shrink-0"}),(0,s.jsx)(eu.E,{className:"h-13 w-full shrink-0"}),(0,s.jsx)(eu.E,{className:"h-13 w-full shrink-0"}),(0,s.jsx)(eu.E,{className:"h-13 w-full shrink-0"}),(0,s.jsx)(eu.E,{className:"h-13 w-full shrink-0"}),(0,s.jsx)(eu.E,{className:"h-13 w-full shrink-0"})]}):e.isError?(0,s.jsx)("div",{className:"flex size-full w-full flex-col items-center justify-center text-center",children:(0,s.jsx)("code",{className:"text-label-md pb-15 font-medium",children:"An error occurred!"})}):(0,s.jsx)(eH,{})},eq=()=>{let{user:e}=(0,u.u)(),{isOpen:t,setDialogOpen:l,toggleDialog:a}=(0,p.s)(h.D.NOTIFICATION_POPOVER);return e?(0,s.jsxs)(eL.AM,{open:t,onOpenChange:l,children:[(0,s.jsxs)(eL.dT,{children:[(0,s.jsxs)(W.m_,{children:[(0,s.jsx)(W.k$,{asChild:!0,children:(0,s.jsx)(m.$,{variant:"ghost",size:"icon-md",className:"tablet:hidden",onClick:a,children:(0,s.jsx)(r.TCo,{})})}),(0,s.jsx)(W.ZI,{children:"Notifications"})]}),(0,s.jsxs)(W.m_,{children:[(0,s.jsx)(W.k$,{asChild:!0,children:(0,s.jsx)(m.$,{variant:"ghost",size:"icon-sm",className:"max-tablet:hidden",onClick:a,children:(0,s.jsx)(r.TCo,{})})}),(0,s.jsx)(W.ZI,{children:"Notifications"})]})]}),(0,s.jsxs)(eL.hl,{className:"rounded-4 mx-8 flex h-108 w-[min(--spacing(85.5),calc(100vw---spacing(16)))] flex-col",align:"start",sideOffset:8,children:[(0,s.jsx)("div",{className:"flex h-11 shrink-0 items-center py-2 pr-3 pl-4",children:(0,s.jsx)("span",{className:"text-content-primary text-body-sm font-semibold",children:"Notification"})}),(0,s.jsx)(eK,{})]})]}):null};var eJ=l(69378),eW=l(14032),eX=l(4327),eQ=l(19044),e0=l(43218),e1=l(67959),e5=l(36478),e3=l(99161);let e2=()=>(0,s.jsx)(m.$,{variant:"ghost",className:"font-normal",asChild:!0,children:(0,s.jsxs)("a",{target:"_blank",href:e3.m.IMAGINE_DISCORD,rel:"noreferrer",children:[(0,s.jsx)(r.ujJ,{}),"Join the Discord server"]})});var e4=l(53605);let e6=()=>{let{user:e}=(0,u.u)(),[t,l]=(0,b.useState)(!1),{isSuggestionWidgetVisible:a,isReportBugWidgetVisible:i}=(()=>{let{widgetsVisibilityPerPlan:e}=(0,ep.bO)().userbackSurveysConfig,{activeStripePlanName:t}=(0,e4.c)();return{isSuggestionWidgetVisible:(0,b.useMemo)(()=>e.suggestAnIdea.includes(null!=t?t:"Free"),[e,t]),isReportBugWidgetVisible:(0,b.useMemo)(()=>e.reportBug.includes(null!=t?t:"Free"),[e,t])}})(),n=()=>l(!1);return e?(0,s.jsxs)(eL.AM,{open:t,modal:!1,onOpenChange:e=>{l(e)},children:[(0,s.jsx)(eL.Wv,{asChild:!0,children:(0,s.jsx)(m.$,{variant:"ghost",translateOnActive:!1,className:"group bg-transparent data-[state=open]:ring-0 [&_svg]:size-4.5",size:"icon-sm",children:(0,s.jsx)(r.zui,{})})}),(0,s.jsxs)(eL.hl,{id:e5.Eo,className:"rounded-4 max-w-62 p-2",children:[i&&(0,s.jsx)(e0.R,{closePopover:n,triggerDomId:e5.dU.REPORT_BUG_FORM.TRIGGER_ID,accessToken:e5.dU.REPORT_BUG_FORM.ACCESS_TOKEN}),a&&(0,s.jsx)(e1.c,{closePopover:n,triggerDomId:e5.dU.SUBMIT_FEEDBACK_FORM.TRIGGER_ID,accessToken:e5.dU.SUBMIT_FEEDBACK_FORM.ACCESS_TOKEN}),(0,s.jsx)(e2,{})]})]}):null},e7=()=>{let e=(0,a.useSelectedLayoutSegment)();return(0,s.jsxs)("header",{className:"tablet:pt-3 tablet:pb-2 mobile:!px-4 pointer-events-none sticky top-0 z-48 flex h-(--navbar-height) items-center justify-between gap-1 pt-2 pb-1 pl-0 *:[div]:pointer-events-auto",children:[(0,s.jsxs)("div",{"aria-hidden":e===n.Z.WITH_FOLDERS_SIDEBAR,className:"rounded-4 bg-background/80 tablet:p-[11px] tablet:aria-hidden:invisible mobile:gap-4 flex w-fit items-center gap-2 py-2 pr-2 pl-3.5 backdrop-blur-[24px]",children:[(0,s.jsx)(i.i,{prefetch:!0,href:o.ze.HOME,"aria-hidden":n.M.has(null!=e?e:""),className:"tablet:aria-hidden:hidden pointer-events-auto",children:(0,s.jsx)(r.u9d,{className:"size-6.5"})}),(0,s.jsxs)("div",{className:"tablet:hidden",children:[(0,s.jsx)(eD,{}),(0,s.jsx)(ez,{})]})]}),(0,s.jsx)("div",{className:"tablet:block absolute inset-x-0 top-3 mx-auto hidden size-fit",children:(0,s.jsx)(ei,{})}),(0,s.jsxs)("div",{className:"bg-background/80 rounded-4 mobile:gap-4 flex items-center gap-2 p-2 backdrop-blur-[24px]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(F,{}),(0,s.jsx)(eQ.R,{}),(0,s.jsx)(eJ.N,{}),(0,s.jsx)(e6,{}),(0,s.jsx)(eq,{}),(0,s.jsx)(eX.h,{})]}),(0,s.jsx)(eW.X,{})]})]})}},81233:(e,t,l)=>{l.d(t,{$:()=>s});let s=(0,l(55822).v)(e=>({isPersonal:!1,setIsPersonal:t=>e({isPersonal:t})}))},84735:(e,t,l)=>{l.d(t,{Y:()=>c,Z:()=>o});var s=l(67933),a=l(27338),r=l(60095),i=l(34267),n=l(29551);let o=e=>{let{orgId:t}=e;return[i.c.ORGS_BASE_TAG,i.c.PINNED_ORGANIZATION_ASSETS,null!=t?t:""]},c=function(){let{enabled:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orgId:void 0},{user:l}=(0,r.u)();return(0,s.I)({queryKey:o({orgId:t.orgId}),staleTime:a.I5,queryFn:()=>n.o.getPinnedOrganizationFolderAssets(t),enabled:!!l&&(null==e||e)})}},85931:(e,t,l)=>{l.d(t,{w:()=>o});var s=l(60095),a=l(75256),r=l(66727),i=l(49896),n=l(81233);let o=()=>{let{showAuthWithRedirect:e}=(0,a.X)(),{user:t}=(0,s.u)(),{setIsPersonal:l}=(0,n.$)(),{openDialog:o}=(0,i.s)(r.D.CREATE_NEW_ORGANIZATION_FOLDER_DIALOG);return{handleOpenCreateFolderDialog:function(){let s=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?(l(s),o()):e()}}}},94967:(e,t,l)=>{l.d(t,{H:()=>c,q:()=>d});var s=l(67933),a=l(87606),r=l(7620),i=l(60095),n=l(90416),o=l(33618);let c=()=>{let{user:e}=(0,i.u)();return(0,s.I)({queryKey:[n.n.GET_MY_PROFILE],queryFn:()=>o.D.getMyProfile(),enabled:!!e})},d=()=>{let e=(0,a.jE)();return(0,r.useCallback)(()=>e.invalidateQueries({queryKey:[n.n.GET_MY_PROFILE]}),[e])}}}]);